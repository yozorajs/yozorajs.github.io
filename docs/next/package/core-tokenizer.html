<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yozora RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yozora Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Yozora JSON Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Yozora" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">@yozora/core-tokenizer | Yozora</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://yozora.guanghechen.com/docs/next/package/core-tokenizer"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="@yozora/core-tokenizer | Yozora"><meta data-react-helmet="true" name="description" content="&lt;img"><meta data-react-helmet="true" property="og:description" content="&lt;img"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://yozora.guanghechen.com/docs/next/package/core-tokenizer"><link data-react-helmet="true" rel="alternate" href="https://yozora.guanghechen.com/docs/next/package/core-tokenizer" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://yozora.guanghechen.com/docs/next/package/core-tokenizer" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.e35b7f1e.css">
<link rel="preload" href="/assets/js/runtime~main.ef085cb9.js" as="script">
<link rel="preload" href="/assets/js/main.7e144856.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">⭐️ If you like Yozora, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/yozorajs/yozora">GitHub</a>! ️</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Yozora Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Yozora Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Yozora</b></a><a class="navbar__item navbar__link" href="/docs/next">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/next/package/ast">API</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/docs/next">2.x.x 🚧</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/package/core-tokenizer">2.x.x 🚧</a></li><li><a class="dropdown__link" href="/docs/package/core-tokenizer">1.x.x</a></li></ul></div><a href="https://github.com/yozorajs/yozora" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link yozora-header-github-link" aria-label="GitHub repository"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="Yozora Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Yozora Logo" class="themedImage_TMUO themedImage--dark_uzRr"><b>Yozora</b></a><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/package/ast">ast</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/package/ast-util">ast-util</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/next/package/core-tokenizer">core-tokenizer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/package/core-parser">core-parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/example/gfm">GFM Examples</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/next/package/jest-for-tokenizer">Scaffold</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Yozora<!-- --> <b>2.x.x 🚧</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/package/core-tokenizer">latest version</a></b> (<!-- -->1.x.x<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->2.x.x 🚧</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>@yozora/core-tokenizer</h1></header><header><div align="center"><a href="https://www.npmjs.com/package/@yozora/core-tokenizer" target="_blank" rel="noopener noreferrer"><img alt="Npm Version" src="https://img.shields.io/npm/v/@yozora/core-tokenizer/latest"></a><a href="https://www.npmjs.com/package/@yozora/core-tokenizer" target="_blank" rel="noopener noreferrer"><img alt="Npm Download" src="https://img.shields.io/npm/dm/@yozora/core-tokenizer.svg"></a><a href="https://www.npmjs.com/package/@yozora/core-tokenizer" target="_blank" rel="noopener noreferrer"><img alt="Npm License" src="https://img.shields.io/npm/l/@yozora/core-tokenizer.svg"></a><a href="#install"><img alt="Module formats: cjs, esm" src="https://img.shields.io/badge/module_formats-cjs%2C%20esm-green.svg"></a><a href="https://github.com/nodejs/node" target="_blank" rel="noopener noreferrer"><img alt="Node.js Version" src="https://img.shields.io/node/v/@yozora/core-tokenizer"></a><a href="https://github.com/prettier/prettier" target="_blank" rel="noopener noreferrer"><img alt="Code Style: prettier" src="https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square"></a></div></header><br><p>Defines the shape of Yozora Tokenizer and life cycle methods, as well as some
utility functions to assist in resolving tokens.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="install">Install<a class="hash-link" href="#install" title="Direct link to heading">​</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Yarn</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --save @yozora/core-tokenizer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> @yozora/core-tokenizer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="usage">Usage<a class="hash-link" href="#usage" title="Direct link to heading">​</a></h2><p>According to the Parse Strategy, there are two types of tokenizers: Block
Tokenizer and Inline tokenizer.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="block-tokenizer">Block Tokenizer<a class="hash-link" href="#block-tokenizer" title="Direct link to heading">​</a></h3><p>The parsing steps of the block tokenizer are divided into three life cycles:</p><ul><li><p><code>match-block</code>: processing literal text and produce <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/token.ts#L41" target="_blank" rel="noopener noreferrer">BlockToken</a>s.</p></li><li><p><code>parse-block</code>: processing <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/token.ts#L41" target="_blank" rel="noopener noreferrer">BlockToken</a>s into <a href="/docs/next/package/ast#node">AST Node</a>s</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="match-block-phase">match-block phase<a class="hash-link" href="#match-block-phase" title="Direct link to heading">​</a></h4><p>In the process of parsing block nodes, the content is read line by line. The
block-level node has a nested structure:</p><div class="codeBlockContainer_J+bg language-markdown theme-code-block"><div class="codeBlockContent_csEI markdown"><pre tabindex="0" class="prism-code language-markdown codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> This is a blockquote</span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> This is a list item in blockquote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> # This is a setext heading in the list item of the blockquote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token blockquote punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> &gt; ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>As shown in the second line of the above code, when parsing
<a href="/docs/next/package/tokenizer-list">ListItem</a>, it cannot get the first character in
the original document line, but wait for its ancestor elements along the
existing nesting structure (such as the above <a href="/docs/next/package/tokenizer-blockquote">Blockquote</a>)
to complete the matching, and then gets a matching opportunity. In order to make
the tokenizers work with each other transparently, when designing the life cycle
methods of the block-level tokenizer in the <code>match-block</code> stage, the parsing
logic of the nested structure lifted into <!-- -->[@yozora/core-parser ][]<!-- -->, and use a
special data structure called <code>PhrasingContentLine</code> as the actual parsing unit
of a line:</p><div class="codeBlockContainer_J+bg language-typescript theme-code-block"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">PhrasingContentLine</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * Start index of interval in nodePoints.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  startIndex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * End index of interval in nodePoints.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  endIndex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * Array of NodePoint which contains all the contents of this line.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nodePoints</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">ReadonlyArray</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">NodePoint</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * The index of first non-blank character in the rest of the current line</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  firstNonWhitespaceIndex</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * The precede space count, one tab equals four space.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @see https://github.github.com/gfm/#tabs</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  countOfPrecedeSpaces</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The life cycle methods at this stage is subdivided into the following methods
(see <!-- -->[match-block][lifecycle-match-block]<!-- --> for the type definition details):</p><ul><li><p><code>isContainingBlock</code>: (Required) Indicate that whether if it is a container block.</p></li><li><p><code>eatOpener</code>: (Required) Try to match a new block node.</p></li><li><p><code>eatAndInterruptPreviousSibling</code>: (optional) try to interrupt the previous
sibling node and match a new block node.</p></li><li><p><code>eatContinuationText</code>: (Optional) Try to match the continuation text of current
block node, that is, consume the current <code>PhrasingContentLine</code> with the current
block node. There may be many kinds of results at this stage, which are
distinguished according to the value of <code>status</code> in the returned result:</p><ul><li><p><code>notMatched</code>: Not matched.</p></li><li><p><code>closing</code>: Matched and this is the last line of the current block node.
That is, the current block node is in a saturated state and is closing.</p></li><li><p><code>opening</code>: Matched, and not closing yet.</p></li><li><p><code>failedAndRollback</code>: The match fails, and the content of the previous lines
are to be rolled back. For convenience, it is assumed that the rollback
operation does not affect the previously satisfied nested structure.</p></li><li><p><code>closingAndRollback</code>: Matching failed, but only the last line needs to be
rollback, the current node is still a valid one and will be closed soon.</p></li></ul></li><li><p><code>eatLazyContinuationText</code>: (Optional) Try to match Laziness Continuation Text.
Actually only the <a href="/docs/next/package/tokenizer-paragraph">@yozora/tokenizer-paragraph</a> needs to implement this
method, see <a href="https://github.github.com/gfm/#phase-1-block-structure" target="_blank" rel="noopener noreferrer">https://github.github.com/gfm/#phase-1-block-structure</a> step3
for details.</p></li><li><p><code>onClose</code>: (Optional) Called when the current node is closed, used to perform some cleanup operations.</p></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="parse-block-phase">parse-block phase<a class="hash-link" href="#parse-block-phase" title="Direct link to heading">​</a></h4><p>The life cycle methods at this stage is subdivided into the following methods
(see <!-- -->[parse-block][lifecycle-parse-block]<!-- --> for the complete type definition):</p><ul><li><code>parse</code>: Processing a specified type token list to <a href="/docs/next/package/ast#node">AST Node</a> list.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="additional-in-blocktokenizer">Additional in <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/tokenizer.ts#L39" target="_blank" rel="noopener noreferrer">BlockTokenizer</a><a class="hash-link" href="#additional-in-blocktokenizer" title="Direct link to heading">​</a></h4><ul><li><p><code>extractPhrasingContentLines</code>: (Optional) Convert a Block Token generated by
the current tokenizer to <code>PhrasingContentLines[]</code>. This method is only needed
when the matching node of this type may be rolled back.</p></li><li><p><code>buildBlockToken</code>: (Optional) Convert <code>PhrasingContentLines[]</code> into a Block Token.
This method is only needed when the matching node of this type may be rolled back</p></li></ul><hr><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="inline-tokenizer">Inline Tokenizer<a class="hash-link" href="#inline-tokenizer" title="Direct link to heading">​</a></h3><p>The parsing step of the inline parser is divided into two life cycles</p><ul><li><code>match-inline</code>: processing literal text and produce <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/token.ts#L55" target="_blank" rel="noopener noreferrer">InlineToken</a>s.</li><li><code>parse-inline</code>: processing <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/token.ts#L55" target="_blank" rel="noopener noreferrer">InlineToken</a>s into <a href="/docs/next/package/ast#node">AST Node</a>s.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="match-inline-phase">match-inline phase<a class="hash-link" href="#match-inline-phase" title="Direct link to heading">​</a></h4><p>After a block node is closed, we can start matching inline nodes, so when we
match inline nodes, we get a continuous text without the concept of &quot;line&quot;.
But inline nodes have priority. For example, link has a higher priority than
emphasis (see <a href="https://github.github.com/gfm/#example-529" target="_blank" rel="noopener noreferrer">https://github.github.com/gfm/#example-529</a>). In order to enable
unperceptual coordination between tokenizers, when designing the life cycle
function of the inline tokenizer in the <code>match-inline</code> phase, put priority-related
logic in <a href="/docs/next/package/core-parser">@yozora/core-parser</a> In processing, each tokenizer only provides
four types of separators: <code>opener</code>, <code>both</code>, <code>closer</code>, <code>full</code>. Then the
processor in <a href="/docs/next/package/core-parser">@yozora/core-parser</a> completes the coordination work.</p><p>The lifecycle methods at this stage is subdivided into the following methods
(see <!-- -->[match-inline][lifecycle-match-inline]<!-- --> for the complete type definition):</p><ul><li><code>findDelimiter</code>: (Required) Find a delimiter</li><li><code>isDelimiterPair</code>: (Optional) Check whether the given two delimiters can match</li><li><code>processDelimiterPair</code>: (Optional) Process the matched two delimiters. Such as <a href="/docs/next/package/tokenizer-emphasis">@yozora/tokenizer-emphasis</a> </li><li><code>processSingleDelimiter</code>:  (Optional) Process a single delimiter. Such as <a href="/docs/next/package/tokenizer-text">@yozora/tokenizer-text</a> </li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="parser-inline-phase">parser-inline phase<a class="hash-link" href="#parser-inline-phase" title="Direct link to heading">​</a></h4><p>The lifecycle methods at this stage is subdivided into the following methods
(see <!-- -->[parse-inline][lifecycle-pase-inline]<!-- --> for the complete type definition):</p><ul><li><code>parse</code>: Processing a specified type token list to <a href="/docs/next/package/ast#node">AST Node</a> list.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="related">Related<a class="hash-link" href="#related" title="Direct link to heading">​</a></h2><ul><li><p><a href="https://github.com/yozorajs/yozora/tree/main/packages/core-tokenizer" target="_blank" rel="noopener noreferrer">Sourcecode</a></p></li><li><p><a href="https://github.com/yozorajs/yozora/tree/main/packages/template-tokenizer#readme" target="_blank" rel="noopener noreferrer">@yozora/template-tokenizer</a> For creating a Yozora Tokenizer.</p></li><li><p>Block Tokenizer Lifecycle</p><ul><li>match-block: <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/match-block/api.ts#L7" target="_blank" rel="noopener noreferrer">IMatchBlockPhaseApi</a>, <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/match-block/hook.ts#L16" target="_blank" rel="noopener noreferrer">IMatchBlockHook</a></li><li>parse-block: <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/parse-block/api.ts#L8" target="_blank" rel="noopener noreferrer">IParseBlockPhaseApi</a>, <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/parse-block/hook.ts#L16" target="_blank" rel="noopener noreferrer">IParseBlockHook</a></li></ul></li><li><p>Inline Tokenizer Lifecycle</p><ul><li>match-inline: <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/match-inline/api.ts#L7" target="_blank" rel="noopener noreferrer">IMatchInlinePhaseApi</a>, <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/match-inline/hook.ts#L16" target="_blank" rel="noopener noreferrer">IMatchInlineHook</a></li><li>parse-inline: <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/parse-inline/api.ts#L8" target="_blank" rel="noopener noreferrer">IParseInlinePhaseApi</a>, <a href="https://github.com/yozorajs/yozora/blob/fbbaf365ad9a16130cc14d40da845908e0099549/packages/core-tokenizer/src/types/parse-inline/hook.ts#L16" target="_blank" rel="noopener noreferrer">IParseInlineHook</a></li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-01-13T13:35:05.000Z">1/13/2022</time></b> by <b>guanghechen</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/package/ast-util"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ast-util</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/package/core-parser"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">core-parser</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install" class="table-of-contents__link toc-highlight">Install</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#block-tokenizer" class="table-of-contents__link toc-highlight">Block Tokenizer</a></li><li><a href="#inline-tokenizer" class="table-of-contents__link toc-highlight">Inline Tokenizer</a></li></ul></li><li><a href="#related" class="table-of-contents__link toc-highlight">Related</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 <a target="_blank" rel="noopener" rel="noreferrer" href="https://github.com/guanghechen">guanghechen</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ef085cb9.js"></script>
<script src="/assets/js/main.7e144856.js"></script>
</body>
</html>