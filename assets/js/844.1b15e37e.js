(self.webpackChunk_yozora_doc=self.webpackChunk_yozora_doc||[]).push([[844],{4182:(e,n,t)=>{"use strict";t.d(n,{A:()=>v});var r=t(6540),o=t(4848);function i(e){const{mdxAdmonitionTitle:n,rest:t}=function(e){const n=r.Children.toArray(e),t=n.find((e=>r.isValidElement(e)&&"mdxAdmonitionTitle"===e.type)),i=n.filter((e=>e!==t)),s=t?.props.children;return{mdxAdmonitionTitle:s,rest:i.length>0?(0,o.jsx)(o.Fragment,{children:i}):null}}(e.children),i=e.title??n;return{...e,...i&&{title:i},children:t}}var s=t(4164),l=t(3230),c=t(8630);const a={admonition:"admonition_xJq3",admonitionHeading:"admonitionHeading_Gvgb",admonitionIcon:"admonitionIcon_Rf37",admonitionContent:"admonitionContent_BuS1"};function d(e){let{type:n,className:t,children:r}=e;return(0,o.jsx)("div",{className:(0,s.A)(c.G.common.admonition,c.G.common.admonitionType(n),a.admonition,t),children:r})}function u(e){let{icon:n,title:t}=e;return(0,o.jsxs)("div",{className:a.admonitionHeading,children:[(0,o.jsx)("span",{className:a.admonitionIcon,children:n}),t]})}function f(e){let{children:n}=e;return n?(0,o.jsx)("div",{className:a.admonitionContent,children:n}):null}function p(e){const{type:n,icon:t,title:r,children:i,className:s}=e;return(0,o.jsxs)(d,{type:n,className:s,children:[(0,o.jsx)(u,{title:r,icon:t}),(0,o.jsx)(f,{children:i})]})}function h(e){return(0,o.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})})}const x={icon:(0,o.jsx)(h,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)",children:"note"})};function I(e){return(0,o.jsx)(p,{...x,...e,className:(0,s.A)("alert alert--secondary",e.className),children:e.children})}function k(e){return(0,o.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})})}const m={icon:(0,o.jsx)(k,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)",children:"tip"})};function g(e){return(0,o.jsx)(p,{...m,...e,className:(0,s.A)("alert alert--success",e.className),children:e.children})}function y(e){return(0,o.jsx)("svg",{viewBox:"0 0 14 16",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})})}const P={icon:(0,o.jsx)(y,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)",children:"info"})};function b(e){return(0,o.jsx)(p,{...P,...e,className:(0,s.A)("alert alert--info",e.className),children:e.children})}function E(e){return(0,o.jsx)("svg",{viewBox:"0 0 16 16",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})})}const A={icon:(0,o.jsx)(E,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.warning",description:"The default label used for the Warning admonition (:::warning)",children:"warning"})};function T(e){return(0,o.jsx)("svg",{viewBox:"0 0 12 16",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})})}const N={icon:(0,o.jsx)(T,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)",children:"danger"})};const S={icon:(0,o.jsx)(E,{}),title:(0,o.jsx)(l.A,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)",children:"caution"})};const C={...{note:I,tip:g,info:b,warning:function(e){return(0,o.jsx)(p,{...A,...e,className:(0,s.A)("alert alert--warning",e.className),children:e.children})},danger:function(e){return(0,o.jsx)(p,{...N,...e,className:(0,s.A)("alert alert--danger",e.className),children:e.children})}},...{secondary:e=>(0,o.jsx)(I,{title:"secondary",...e}),important:e=>(0,o.jsx)(b,{title:"important",...e}),success:e=>(0,o.jsx)(g,{title:"success",...e}),caution:function(e){return(0,o.jsx)(p,{...S,...e,className:(0,s.A)("alert alert--warning",e.className),children:e.children})}}};function v(e){const n=i(e),t=(r=n.type,C[r]||(console.warn(`No admonition component found for admonition type "${r}". Using Info as fallback.`),C.info));var r;return(0,o.jsx)(t,{...n})}},5911:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});t(6540);var r=t(3230),o=t(8630),i=t(4783),s=t(4164);const l={iconEdit:"iconEdit_Z9Sw"};var c=t(4848);function a(e){let{className:n,...t}=e;return(0,c.jsx)("svg",{fill:"currentColor",height:"20",width:"20",viewBox:"0 0 40 40",className:(0,s.A)(l.iconEdit,n),"aria-hidden":"true",...t,children:(0,c.jsx)("g",{children:(0,c.jsx)("path",{d:"m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"})})})}function d(e){let{editUrl:n}=e;return(0,c.jsxs)(i.A,{to:n,className:o.G.common.editThisPage,children:[(0,c.jsx)(a,{}),(0,c.jsx)(r.A,{id:"theme.common.editThisPage",description:"The link label to edit the current page",children:"Edit this page"})]})}},4903:(e,n,t)=>{"use strict";t.d(n,{A:()=>Ye});var r=t(6540),o=t(8453),i=t(1141),s=t(4164),l=t(1062),c=t(1765),a={characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0};function d(e){var n=window.getSelection();n.empty(),n.addRange(e)}function u(e){return(e.metaKey||e.ctrlKey)&&!e.altKey&&"KeyZ"===e.code}function f(e){e=[e.firstChild];for(var n,t="";n=e.pop();)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"BR"===n.nodeName&&(t+="\n"),n.nextSibling&&e.push(n.nextSibling),n.firstChild&&e.push(n.firstChild);return"\n"!==t[t.length-1]&&(t+="\n"),t}function p(e){var n=window.getSelection().getRangeAt(0),t=n.collapsed?0:n.toString().length,r=document.createRange();return r.setStart(e,0),r.setEnd(n.startContainer,n.startOffset),{position:e=(r=r.toString()).length,extent:t,content:r=(r=r.split("\n"))[n=r.length-1],line:n}}function h(e,n,t){0>=n&&(n=0),(!t||0>t)&&(t=n);var r=document.createRange();e=[e.firstChild];for(var o,i=0,s=n;o=e[e.length-1];){if(o.nodeType===Node.TEXT_NODE){if(i+o.textContent.length>=s){var l=s-i;if(s===n){if(s=r,l<o.textContent.length?s.setStart(o,l):s.setStartAfter(o),t!==n){s=t;continue}break}n=r,l<(t=o).textContent.length?n.setEnd(t,l):n.setEndAfter(t);break}i+=o.textContent.length}else if(o.nodeType===Node.ELEMENT_NODE&&"BR"===o.nodeName){if(i+1>=s){if(s===n){if(l=r,0<o.textContent.length?l.setStart(o,0):l.setStartAfter(o),t!==n){s=t;continue}break}n=r,0<(t=o).textContent.length?n.setEnd(t,0):n.setEndAfter(t);break}i++}e.pop(),o.nextSibling&&e.push(o.nextSibling),o.firstChild&&e.push(o.firstChild)}return r}var x=t(4848),I=t(322),k=Object.defineProperty,m=Object.defineProperties,g=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(e,n,t)=>n in e?k(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,A=(e,n)=>{for(var t in n||(n={}))P.call(n,t)&&E(e,t,n[t]);if(y)for(var t of y(n))b.call(n,t)&&E(e,t,n[t]);return e},T=(e,n)=>m(e,g(n)),N=e=>{const{tabMode:n="indentation"}=e,t=(0,r.useRef)(null),[o,i]=(0,r.useState)(e.code||""),{theme:s}=e;return(0,r.useEffect)((()=>{i(e.code)}),[e.code]),function(e,n,t){function o(n){var t=e.current;if(t){var r=p(t);t=f(t),r.position+=n.length-t.length,I.position=r,I.onChange(n,r)}}function i(n,t){var r=e.current;if(r){var o=window.getSelection().getRangeAt(0);o.deleteContents(),o.collapse();var i=t||0;(o=h(r,t=(o=p(r)).position+(0>i?i:0),o.position+(0<i?i:0))).deleteContents(),n&&o.insertNode(document.createTextNode(n)),d(h(r,t+n.length))}}function s(n){var t=e.current;if(t){t.focus();var r=0;if("number"==typeof n)r=n;else{var o=f(t).split("\n").slice(0,n.row);n.row&&(r+=o.join("\n").length+1),r+=n.column}d(h(t,r))}}function l(){var n=e.current;return{text:f(n),position:n=p(n)}}function c(){I.observer.disconnect()}t||(t={});var x=(0,r.useState)([])[1],I=(0,r.useState)((function(){var e={observer:null,disconnected:!1,onChange:n,queue:[],history:[],historyAt:-1,position:null};return"undefined"!=typeof MutationObserver&&(e.observer=new MutationObserver((function(n){var t;(t=e.queue).push.apply(t,n)}))),e}))[0],k=(0,r.useMemo)((function(){return{update:o,insert:i,move:s,getState:l}}),[]);"object"!=typeof navigator||((0,r.useLayoutEffect)((function(){if(I.onChange=n,e.current&&!t.disabled){if(I.disconnected=!1,I.observer.observe(e.current,a),I.position){var r=I.position,o=r.position;d(h(e.current,o,o+r.extent))}return c}})),(0,r.useLayoutEffect)((function(){if(e.current&&!t.disabled){var n=e.current;if(I.position){n.focus();var r=I.position,o=r.position;d(h(n,o,o+r.extent))}var i=n.style.whiteSpace,s=n.contentEditable,l=!0;try{n.contentEditable="plaintext-only"}catch(T){n.contentEditable="true",l=!1}"pre"!==i&&(n.style.whiteSpace="pre-wrap"),t.indentation&&(n.style.tabSize=n.style.MozTabSize=""+t.indentation),r=""+" ".repeat(t.indentation||0);var c,a=new RegExp("^(?:"+r+")"),m=new RegExp("^(?:"+r+")*("+r+")$"),g=function(t){if(e.current&&I.position){var r=f(n),o=p(n),i=(new Date).valueOf(),s=I.history[I.historyAt];!t&&500>i-c||s&&s[1]===r?c=i:(t=++I.historyAt,I.history[t]=[o,r],I.history.splice(t+1),500<t&&(I.historyAt--,I.history.shift()))}},y=function(){var e;if((e=I.queue).push.apply(e,I.observer.takeRecords()),e=p(n),I.queue.length){I.observer.disconnect(),I.disconnected=!0;var t,r,o=f(n);for(I.position=e;t=I.queue.pop();){for(null!==t.oldValue&&(t.target.textContent=t.oldValue),r=t.removedNodes.length-1;0<=r;r--)t.target.insertBefore(t.removedNodes[r],t.nextSibling);for(r=t.addedNodes.length-1;0<=r;r--)t.addedNodes[r].parentNode&&t.target.removeChild(t.addedNodes[r])}I.onChange(o,e)}},P=function(e){if(!e.defaultPrevented&&e.target===n){if(I.disconnected)return e.preventDefault(),x([]);if(u(e))e.preventDefault(),e.shiftKey?(e=++I.historyAt,(e=I.history[e])||(I.historyAt=I.history.length-1)):(e=--I.historyAt,(e=I.history[e])||(I.historyAt=0)),e&&(I.observer.disconnect(),I.disconnected=!0,I.position=e[0],I.onChange(e[1],e[0]));else{if(g(),"Enter"===e.key){e.preventDefault();var r=p(n),o=/\S/g.exec(r.content);r="\n"+r.content.slice(0,o?o.index:r.content.length),k.insert(r)}else if(l&&!t.indentation||"Backspace"!==e.key){if(t.indentation&&"Tab"===e.key){e.preventDefault(),o=(r=p(n)).position-r.content.length;var i=f(n);r=e.shiftKey?i.slice(0,o)+r.content.replace(a,"")+i.slice(o+r.content.length):i.slice(0,o)+(t.indentation?" ".repeat(t.indentation):"\t")+i.slice(o),k.update(r)}}else e.preventDefault(),window.getSelection().getRangeAt(0).collapsed?(r=p(n),r=m.exec(r.content),k.insert("",r?-r[1].length:-1)):k.insert("",0);e.repeat&&y()}}},b=function(e){e.defaultPrevented||e.isComposing||(u(e)||g(),y(),n.focus())},E=function(e){I.position=window.getSelection().rangeCount&&e.target===n?p(n):null},A=function(e){e.preventDefault(),g(!0),k.insert(e.clipboardData.getData("text/plain")),g(!0),y()};return document.addEventListener("selectstart",E),window.addEventListener("keydown",P),n.addEventListener("paste",A),n.addEventListener("keyup",b),function(){document.removeEventListener("selectstart",E),window.removeEventListener("keydown",P),n.removeEventListener("paste",A),n.removeEventListener("keyup",b),n.style.whiteSpace=i,n.contentEditable=s}}I.history.length=0,I.historyAt=-1}),[e.current,t.disabled,t.indentation]))}(t,(e=>i(e.slice(0,-1))),{disabled:e.disabled,indentation:"indentation"===n?2:void 0}),(0,r.useEffect)((()=>{e.onChange&&e.onChange(o)}),[o]),(0,x.jsx)("div",{className:e.className,style:e.style,children:(0,x.jsx)(c.f4,{code:o,theme:e.theme||c.Zj.nightOwl,language:e.language,children:({className:e,tokens:n,getLineProps:r,getTokenProps:o,style:i})=>(0,x.jsx)("pre",{className:e,style:A(A({margin:0,outline:"none",padding:10,fontFamily:"inherit"},s&&"object"==typeof s.plain?s.plain:{}),i),ref:t,spellCheck:"false",children:n.map(((e,n)=>(0,x.jsxs)("span",T(A({},r({line:e})),{children:[e.filter((e=>!e.empty)).map(((e,n)=>(0,x.jsx)("span",A({},o({token:e})),`token-${n}`))),"\n"]}),`line-${n}`)))})})})},S=(0,r.createContext)({}),C=["jsx","imports"];function v(e={}){const n=Array.isArray(e.transforms)?e.transforms.filter(Boolean):C;return e=>(0,I.pd)(e,{transforms:n}).code}var O=(e,n)=>class extends r.Component{componentDidCatch(e){n(e)}render(){return"function"==typeof e?(0,x.jsx)(e,{}):r.isValidElement(e)?e:null}},L=(e,n)=>{const t=Object.keys(n),r=t.map((e=>n[e]));return new Function(...t,e)(...r)};var _='const _jsxFileName = "";',z=e=>e.trim().replace(/;$/,""),w=e=>e.replace(_,"").trim(),R=e=>_+e,B=e=>`return (${e})`;var j=function({children:e,code:n="",language:t="tsx",theme:o,enableTypeScript:i=!0,disabled:s=!1,scope:l,transformCode:c,noInline:a=!1}){const[d,u]=(0,r.useState)({error:void 0,element:void 0});function f(e){return n=this,t=null,o=function*(){const n=e=>{u({error:e.toString(),element:void 0})};try{const o=c?c(e):e;try{const e=yield Promise.resolve(o),t=e=>u({error:void 0,element:e});if("string"!=typeof e)throw new Error("Code failed to transform");const s={code:e,scope:l,enableTypeScript:i};a?(u({error:void 0,element:null}),(({code:e="",scope:n={},enableTypeScript:t=!0},o,i)=>{if(!/render\s*\(/.test(e))return i(new SyntaxError("No-Inline evaluations must call `render`."));const s=["jsx","imports"];t&&s.splice(1,0,"typescript"),L(v({transforms:s})(e),T(A({React:r},n),{render:e=>{void 0===e?i(new SyntaxError("`render` must be called with valid JSX.")):o(O(e,i))}}))})(s,t,n)):t((({code:e="",scope:n={},enableTypeScript:t=!0},o)=>{const i=["jsx"];t&&i.push("typescript");const s=function(...e){return e.reduce(((e,n)=>(...t)=>e(n(...t))))}(R,v({transforms:["imports"]}),B,w,z,v({transforms:i}),z)(e);return O(L(s,A({React:r},n)),o)})(s,n))}catch(t){return n(t)}}catch(o){return n(o),Promise.resolve()}},new Promise(((e,r)=>{var i=e=>{try{l(o.next(e))}catch(n){r(n)}},s=e=>{try{l(o.throw(e))}catch(n){r(n)}},l=n=>n.done?e(n.value):Promise.resolve(n.value).then(i,s);l((o=o.apply(n,t)).next())}));var n,t,o}const p=e=>u({error:e.toString()});return(0,r.useEffect)((()=>{f(n).catch(p)}),[n,l,a,c]),(0,x.jsx)(S.Provider,{value:T(A({},d),{code:n,language:t,theme:o,disabled:s,onError:p,onChange:e=>{f(e).catch(p)}}),children:e})};function D(e){const{code:n,language:t,theme:o,disabled:i,onChange:s}=(0,r.useContext)(S);return(0,x.jsx)(N,A({theme:o,code:n,language:t,disabled:i,onChange:s},e))}function M(e){const{error:n}=(0,r.useContext)(S);return n?(0,x.jsx)("pre",T(A({},e),{children:n})):null}var K=function(e){var n=e,{Component:t="div"}=n,o=((e,n)=>{var t={};for(var r in e)P.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&y)for(var r of y(e))n.indexOf(r)<0&&b.call(e,r)&&(t[r]=e[r]);return t})(n,["Component"]);const{element:i}=(0,r.useContext)(S);return(0,x.jsx)(t,T(A({},o),{children:i?(0,x.jsx)(i,{}):null}))};var U=t(3230),H=t(7639);function G(e){let{children:n,fallback:t}=e;return(0,l.A)()?(0,x.jsx)(x.Fragment,{children:n?.()}):t??null}var W=t(4176),F=t(7710),Q=t(6957);function V(){const{prism:e}=(0,Q.p)(),{colorMode:n}=(0,F.G)(),t=e.theme,r=e.darkTheme||t;return"dark"===n?r:t}var $=t(3832);const X={playgroundContainer:"playgroundContainer_X_Ta",playgroundHeader:"playgroundHeader_dyrN",playgroundEditor:"playgroundEditor_Q6Y7",playgroundPreview:"playgroundPreview_DzOI"};function J(e){let{children:n}=e;return(0,x.jsx)("div",{className:(0,s.A)(X.playgroundHeader),children:n})}function q(){return(0,x.jsx)("div",{children:"Loading..."})}function Z(){return(0,x.jsx)(G,{fallback:(0,x.jsx)(q,{}),children:()=>(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)($.A,{fallback:e=>(0,x.jsx)(W.MN,{...e}),children:(0,x.jsx)(K,{})}),(0,x.jsx)(M,{})]})})}function Y(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J,{children:(0,x.jsx)(U.A,{id:"theme.Playground.result",description:"The result label of the live codeblocks",children:"Result"})}),(0,x.jsx)("div",{className:X.playgroundPreview,children:(0,x.jsx)(Z,{})})]})}function ee(){const e=(0,l.A)();return(0,x.jsx)(D,{className:X.playgroundEditor},String(e))}function ne(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(J,{children:(0,x.jsx)(U.A,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks",children:"Live Editor"})}),(0,x.jsx)(ee,{})]})}const te=e=>`${e};`;function re(e){let{children:n,transformCode:t,...r}=e;const{siteConfig:{themeConfig:o}}=(0,H.A)(),{liveCodeBlock:{playgroundPosition:i}}=o,s=V(),l=r.metastring?.includes("noInline")??!1;return(0,x.jsx)("div",{className:X.playgroundContainer,children:(0,x.jsx)(j,{code:n?.replace(/\n$/,""),noInline:l,transformCode:t??te,theme:s,...r,children:"top"===i?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{}),(0,x.jsx)(ne,{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne,{}),(0,x.jsx)(Y,{})]})})})}var oe=t(4630),ie=t(8630),se=t(8426),le=t.n(se);const ce=/title=(?<quote>["'])(?<title>.*?)\1/,ae=/\{(?<range>[\d,-]+)\}/,de={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},bash:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},ue={...de,lua:{start:"--",end:""},wasm:{start:"\\;\\;",end:""},tex:{start:"%",end:""},vb:{start:"['\u2018\u2019]",end:""},vbnet:{start:"(?:_\\s*)?['\u2018\u2019]",end:""},rem:{start:"[Rr][Ee][Mm]\\b",end:""},f90:{start:"!",end:""},ml:{start:"\\(\\*",end:"\\*\\)"},cobol:{start:"\\*>",end:""}},fe=Object.keys(de);function pe(e,n){const t=e.map((e=>{const{start:t,end:r}=ue[e];return`(?:${t}\\s*(${n.flatMap((e=>[e.line,e.block?.start,e.block?.end].filter(Boolean))).join("|")})\\s*${r})`})).join("|");return new RegExp(`^\\s*(?:${t})\\s*$`)}function he(e,n){let t=e.replace(/\n$/,"");const{language:r,magicComments:o,metastring:i}=n;if(i&&ae.test(i)){const e=i.match(ae).groups.range;if(0===o.length)throw new Error(`A highlight range has been given in code block's metastring (\`\`\` ${i}), but no magic comment config is available. Docusaurus applies the first magic comment entry's className for metastring ranges.`);const n=o[0].className,r=le()(e).filter((e=>e>0)).map((e=>[e-1,[n]]));return{lineClassNames:Object.fromEntries(r),code:t}}if(void 0===r)return{lineClassNames:{},code:t};const s=function(e,n){switch(e){case"js":case"javascript":case"ts":case"typescript":return pe(["js","jsBlock"],n);case"jsx":case"tsx":return pe(["js","jsBlock","jsx"],n);case"html":return pe(["js","jsBlock","html"],n);case"python":case"py":case"bash":return pe(["bash"],n);case"markdown":case"md":return pe(["html","jsx","bash"],n);case"tex":case"latex":case"matlab":return pe(["tex"],n);case"lua":case"haskell":case"sql":return pe(["lua"],n);case"wasm":return pe(["wasm"],n);case"vb":case"vba":case"visual-basic":return pe(["vb","rem"],n);case"vbnet":return pe(["vbnet","rem"],n);case"batch":return pe(["rem"],n);case"basic":return pe(["rem","f90"],n);case"fsharp":return pe(["js","ml"],n);case"ocaml":case"sml":return pe(["ml"],n);case"fortran":return pe(["f90"],n);case"cobol":return pe(["cobol"],n);default:return pe(fe,n)}}(r,o),l=t.split("\n"),c=Object.fromEntries(o.map((e=>[e.className,{start:0,range:""}]))),a=Object.fromEntries(o.filter((e=>e.line)).map((e=>{let{className:n,line:t}=e;return[t,n]}))),d=Object.fromEntries(o.filter((e=>e.block)).map((e=>{let{className:n,block:t}=e;return[t.start,n]}))),u=Object.fromEntries(o.filter((e=>e.block)).map((e=>{let{className:n,block:t}=e;return[t.end,n]})));for(let p=0;p<l.length;){const e=l[p].match(s);if(!e){p+=1;continue}const n=e.slice(1).find((e=>void 0!==e));a[n]?c[a[n]].range+=`${p},`:d[n]?c[d[n]].start=p:u[n]&&(c[u[n]].range+=`${c[u[n]].start}-${p-1},`),l.splice(p,1)}t=l.join("\n");const f={};return Object.entries(c).forEach((e=>{let[n,{range:t}]=e;le()(t).forEach((e=>{f[e]??=[],f[e].push(n)}))})),{lineClassNames:f,code:t}}const xe={codeBlockContainer:"codeBlockContainer_Ckt0"};function Ie(e){let{as:n,...t}=e;const r=function(e){const n={color:"--prism-color",backgroundColor:"--prism-background-color"},t={};return Object.entries(e.plain).forEach((e=>{let[r,o]=e;const i=n[r];i&&"string"==typeof o&&(t[i]=o)})),t}(V());return(0,x.jsx)(n,{...t,style:r,className:(0,s.A)(t.className,xe.codeBlockContainer,ie.G.common.codeBlock)})}const ke={codeBlockContent:"codeBlockContent_biex",codeBlockTitle:"codeBlockTitle_Ktv7",codeBlock:"codeBlock_bY9V",codeBlockStandalone:"codeBlockStandalone_MEMb",codeBlockLines:"codeBlockLines_e6Vv",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_o6Pm",buttonGroup:"buttonGroup__atx"};function me(e){let{children:n,className:t}=e;return(0,x.jsx)(Ie,{as:"pre",tabIndex:0,className:(0,s.A)(ke.codeBlockStandalone,"thin-scrollbar",t),children:(0,x.jsx)("code",{className:ke.codeBlockLines,children:n})})}var ge=t(4799);const ye={attributes:!0,characterData:!0,childList:!0,subtree:!0};function Pe(e,n){const[t,o]=(0,r.useState)(),i=(0,r.useCallback)((()=>{o(e.current?.closest("[role=tabpanel][hidden]"))}),[e,o]);(0,r.useEffect)((()=>{i()}),[i]),function(e,n,t){void 0===t&&(t=ye);const o=(0,ge._q)(n),i=(0,ge.Be)(t);(0,r.useEffect)((()=>{const n=new MutationObserver(o);return e&&n.observe(e,i),()=>n.disconnect()}),[e,o,i])}(t,(e=>{e.forEach((e=>{"attributes"===e.type&&"hidden"===e.attributeName&&(n(),i())}))}),{attributes:!0,characterData:!1,childList:!1,subtree:!1})}const be={codeLine:"codeLine_lJS_",codeLineNumber:"codeLineNumber_Tfdd",codeLineContent:"codeLineContent_feaV"};function Ee(e){let{line:n,classNames:t,showLineNumbers:r,getLineProps:o,getTokenProps:i}=e;1===n.length&&"\n"===n[0].content&&(n[0].content="");const l=o({line:n,className:(0,s.A)(t,r&&be.codeLine)}),c=n.map(((e,n)=>(0,x.jsx)("span",{...i({token:e,key:n})},n)));return(0,x.jsxs)("span",{...l,children:[r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:be.codeLineNumber}),(0,x.jsx)("span",{className:be.codeLineContent,children:c})]}):c,(0,x.jsx)("br",{})]})}function Ae(e){return(0,x.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,x.jsx)("path",{fill:"currentColor",d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})})}function Te(e){return(0,x.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,x.jsx)("path",{fill:"currentColor",d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"})})}const Ne={copyButtonCopied:"copyButtonCopied_obH4",copyButtonIcons:"copyButtonIcons_eSgA",copyButtonIcon:"copyButtonIcon_y97N",copyButtonSuccessIcon:"copyButtonSuccessIcon_LjdS"};function Se(e){let{code:n,className:t}=e;const[o,i]=(0,r.useState)(!1),l=(0,r.useRef)(void 0),c=(0,r.useCallback)((()=>{!function(e,n){let{target:t=document.body}=void 0===n?{}:n;if("string"!=typeof e)throw new TypeError(`Expected parameter \`text\` to be a \`string\`, got \`${typeof e}\`.`);const r=document.createElement("textarea"),o=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const i=document.getSelection(),s=i.rangeCount>0&&i.getRangeAt(0);t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let l=!1;try{l=document.execCommand("copy")}catch{}r.remove(),s&&(i.removeAllRanges(),i.addRange(s)),o&&o.focus()}(n),i(!0),l.current=window.setTimeout((()=>{i(!1)}),1e3)}),[n]);return(0,r.useEffect)((()=>()=>window.clearTimeout(l.current)),[]),(0,x.jsx)("button",{type:"button","aria-label":o?(0,U.T)({id:"theme.CodeBlock.copied",message:"Copied",description:"The copied button label on code blocks"}):(0,U.T)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),title:(0,U.T)({id:"theme.CodeBlock.copy",message:"Copy",description:"The copy button label on code blocks"}),className:(0,s.A)("clean-btn",t,Ne.copyButton,o&&Ne.copyButtonCopied),onClick:c,children:(0,x.jsxs)("span",{className:Ne.copyButtonIcons,"aria-hidden":"true",children:[(0,x.jsx)(Ae,{className:Ne.copyButtonIcon}),(0,x.jsx)(Te,{className:Ne.copyButtonSuccessIcon})]})})}function Ce(e){return(0,x.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,x.jsx)("path",{fill:"currentColor",d:"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"})})}const ve={wordWrapButtonIcon:"wordWrapButtonIcon_Bwma",wordWrapButtonEnabled:"wordWrapButtonEnabled_EoeP"};function Oe(e){let{className:n,onClick:t,isEnabled:r}=e;const o=(0,U.T)({id:"theme.CodeBlock.wordWrapToggle",message:"Toggle word wrap",description:"The title attribute for toggle word wrapping button of code block lines"});return(0,x.jsx)("button",{type:"button",onClick:t,className:(0,s.A)("clean-btn",n,r&&ve.wordWrapButtonEnabled),"aria-label":o,title:o,children:(0,x.jsx)(Ce,{className:ve.wordWrapButtonIcon,"aria-hidden":"true"})})}function Le(e){let{children:n,className:t="",metastring:o,title:i,showLineNumbers:l,language:a}=e;const{prism:{defaultLanguage:d,magicComments:u}}=(0,Q.p)(),f=function(e){return e?.toLowerCase()}(a??function(e){const n=e.split(" ").find((e=>e.startsWith("language-")));return n?.replace(/language-/,"")}(t)??d),p=V(),h=function(){const[e,n]=(0,r.useState)(!1),[t,o]=(0,r.useState)(!1),i=(0,r.useRef)(null),s=(0,r.useCallback)((()=>{const t=i.current.querySelector("code");e?t.removeAttribute("style"):(t.style.whiteSpace="pre-wrap",t.style.overflowWrap="anywhere"),n((e=>!e))}),[i,e]),l=(0,r.useCallback)((()=>{const{scrollWidth:e,clientWidth:n}=i.current,t=e>n||i.current.querySelector("code").hasAttribute("style");o(t)}),[i]);return Pe(i,l),(0,r.useEffect)((()=>{l()}),[e,l]),(0,r.useEffect)((()=>(window.addEventListener("resize",l,{passive:!0}),()=>{window.removeEventListener("resize",l)})),[l]),{codeBlockRef:i,isEnabled:e,isCodeScrollable:t,toggle:s}}(),I=function(e){return e?.match(ce)?.groups.title??""}(o)||i,{lineClassNames:k,code:m}=he(n,{metastring:o,language:f,magicComments:u}),g=l??function(e){return Boolean(e?.includes("showLineNumbers"))}(o);return(0,x.jsxs)(Ie,{as:"div",className:(0,s.A)(t,f&&!t.includes(`language-${f}`)&&`language-${f}`),children:[I&&(0,x.jsx)("div",{className:ke.codeBlockTitle,children:I}),(0,x.jsxs)("div",{className:ke.codeBlockContent,children:[(0,x.jsx)(c.f4,{theme:p,code:m,language:f??"text",children:e=>{let{className:n,style:t,tokens:r,getLineProps:o,getTokenProps:i}=e;return(0,x.jsx)("pre",{tabIndex:0,ref:h.codeBlockRef,className:(0,s.A)(n,ke.codeBlock,"thin-scrollbar"),style:t,children:(0,x.jsx)("code",{className:(0,s.A)(ke.codeBlockLines,g&&ke.codeBlockLinesWithNumbering),children:r.map(((e,n)=>(0,x.jsx)(Ee,{line:e,getLineProps:o,getTokenProps:i,classNames:k[n],showLineNumbers:g},n)))})})}}),(0,x.jsxs)("div",{className:ke.buttonGroup,children:[(h.isEnabled||h.isCodeScrollable)&&(0,x.jsx)(Oe,{className:ke.codeButton,onClick:()=>h.toggle(),isEnabled:h.isEnabled}),(0,x.jsx)(Se,{className:ke.codeButton,code:m})]})]})]})}const _e=(ze=function(e){let{children:n,...t}=e;const o=(0,l.A)(),i=function(e){return r.Children.toArray(e).some((e=>(0,r.isValidElement)(e)))?e:Array.isArray(e)?e.join(""):e}(n),s="string"==typeof i?Le:me;return(0,x.jsx)(s,{...t,children:i},String(o))},function(e){return e.live?(0,x.jsx)(re,{scope:oe.A,...e}):(0,x.jsx)(ze,{...e})});var ze;function we(e){return(0,x.jsx)("code",{...e})}var Re=t(4783);var Be=t(7344),je=t(4549);const De={details:"details_lb9f",isBrowser:"isBrowser_bmU9",collapsibleContent:"collapsibleContent_i85q"};function Me(e){return!!e&&("SUMMARY"===e.tagName||Me(e.parentElement))}function Ke(e,n){return!!e&&(e===n||Ke(e.parentElement,n))}function Ue(e){let{summary:n,children:t,...o}=e;(0,Be.A)().collectAnchor(o.id);const i=(0,l.A)(),c=(0,r.useRef)(null),{collapsed:a,setCollapsed:d}=(0,je.u)({initialState:!o.open}),[u,f]=(0,r.useState)(o.open),p=r.isValidElement(n)?n:(0,x.jsx)("summary",{children:n??"Details"});return(0,x.jsxs)("details",{...o,ref:c,open:u,"data-collapsed":a,className:(0,s.A)(De.details,i&&De.isBrowser,o.className),onMouseDown:e=>{Me(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const n=e.target;Me(n)&&Ke(n,c.current)&&(e.preventDefault(),a?(d(!1),f(!0)):d(!0))},children:[p,(0,x.jsx)(je.N,{lazy:!1,collapsed:a,disableSSRStyle:!0,onCollapseTransitionEnd:e=>{d(e),f(!e)},children:(0,x.jsx)("div",{className:De.collapsibleContent,children:t})})]})}const He={details:"details_b_Ee"},Ge="alert alert--info";function We(e){let{...n}=e;return(0,x.jsx)(Ue,{...n,className:(0,s.A)(Ge,He.details,n.className)})}function Fe(e){const n=r.Children.toArray(e.children),t=n.find((e=>r.isValidElement(e)&&"summary"===e.type)),o=(0,x.jsx)(x.Fragment,{children:n.filter((e=>e!==t))});return(0,x.jsx)(We,{...e,summary:t,children:o})}var Qe=t(5225);function Ve(e){return(0,x.jsx)(Qe.A,{...e})}const $e={containsTaskList:"containsTaskList_mC6p"};function Xe(e){if(void 0!==e)return(0,s.A)(e,e?.includes("contains-task-list")&&$e.containsTaskList)}const Je={img:"img_ev3q"};var qe=t(4182);const Ze={Head:i.A,details:Fe,Details:Fe,code:function(e){return function(e){return void 0!==e.children&&r.Children.toArray(e.children).every((e=>"string"==typeof e&&!e.includes("\n")))}(e)?(0,x.jsx)(we,{...e}):(0,x.jsx)(_e,{...e})},a:function(e){return(0,x.jsx)(Re.A,{...e})},pre:function(e){return(0,x.jsx)(x.Fragment,{children:e.children})},ul:function(e){return(0,x.jsx)("ul",{...e,className:Xe(e.className)})},li:function(e){return(0,Be.A)().collectAnchor(e.id),(0,x.jsx)("li",{...e})},img:function(e){return(0,x.jsx)("img",{decoding:"async",loading:"lazy",...e,className:(n=e.className,(0,s.A)(n,Je.img))});var n},h1:e=>(0,x.jsx)(Ve,{as:"h1",...e}),h2:e=>(0,x.jsx)(Ve,{as:"h2",...e}),h3:e=>(0,x.jsx)(Ve,{as:"h3",...e}),h4:e=>(0,x.jsx)(Ve,{as:"h4",...e}),h5:e=>(0,x.jsx)(Ve,{as:"h5",...e}),h6:e=>(0,x.jsx)(Ve,{as:"h6",...e}),admonition:qe.A,mermaid:()=>null};function Ye(e){let{children:n}=e;return(0,x.jsx)(o.x,{components:Ze,children:n})}},3555:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});t(6540);var r=t(4164),o=t(4783),i=t(4848);function s(e){const{permalink:n,title:t,subLabel:s,isNext:l}=e;return(0,i.jsxs)(o.A,{className:(0,r.A)("pagination-nav__link",l?"pagination-nav__link--next":"pagination-nav__link--prev"),to:n,children:[s&&(0,i.jsx)("div",{className:"pagination-nav__sublabel",children:s}),(0,i.jsx)("div",{className:"pagination-nav__label",children:t})]})}},1883:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});t(6540);var r=t(4164),o=t(4783);const i={tag:"tag_zVej",tagRegular:"tagRegular_sFm0",tagWithCount:"tagWithCount_h2kH"};var s=t(4848);function l(e){let{permalink:n,label:t,count:l}=e;return(0,s.jsxs)(o.A,{href:n,className:(0,r.A)(i.tag,l?i.tagWithCount:i.tagRegular),children:[t,l&&(0,s.jsx)("span",{children:l})]})}},1113:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});t(6540);var r=t(4164),o=t(3230),i=t(1883);const s={tags:"tags_jXut",tag:"tag_QGVx"};var l=t(4848);function c(e){let{tags:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("b",{children:(0,l.jsx)(o.A,{id:"theme.tags.tagsListLabel",description:"The label alongside a tag list",children:"Tags:"})}),(0,l.jsx)("ul",{className:(0,r.A)(s.tags,"padding--none","margin-left--sm"),children:n.map((e=>{let{label:n,permalink:t}=e;return(0,l.jsx)("li",{className:s.tag,children:(0,l.jsx)(i.A,{label:n,permalink:t})},t)}))})]})}},8426:(e,n)=>{function t(e){let n,t=[];for(let r of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(r))t.push(parseInt(r,10));else if(n=r.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,r,o,i]=n;if(r&&i){r=parseInt(r),i=parseInt(i);const e=r<i?1:-1;"-"!==o&&".."!==o&&"\u2025"!==o||(i+=e);for(let n=r;n!==i;n+=e)t.push(n)}}return t}n.default=t,e.exports=t},8791:(e,n,t)=>{"use strict";t.d(n,{nf:()=>p});var r=t(4633),o=t(8107);const i=!0,s="Invariant failed";function l(e,n){if(!e){if(i)throw new Error(s);if(null==n)throw new Error(s+": ");throw new Error(s+": "+(n instanceof Function?n():n))}}const c=(e,n)=>{const t={_tokenizer:"root",nodeType:"root",position:{start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},children:[]},i=[];i.push({hook:{isContainingBlock:!0},token:t});let s=0;const a=e=>{for(let n=s;n>=0;--n){i[n].token.position.end={...e}}},d=(t,r)=>{if(r.length<=0)return null;const o=e.filter((e=>e!==t)),i=c(o,n);for(const e of r)i.consume(e);return i},u=()=>{const e=i.pop();if(null!=e){if(i.length>0){const n=i[i.length-1];if(null!=e.hook.onClose){const t=e.hook.onClose(e.token);if(null!=t)switch(t.status){case"closingAndRollback":{const r=d(e.hook,t.lines);if(null==r)break;const o=r.done();n.token.children.push(...o.children);break}case"failedAndRollback":{n.token.children.pop();const r=d(e.hook,t.lines);if(null==r)break;const o=r.done();n.token.children.push(...o.children);break}}}}return s>=i.length&&(s=i.length-1),e}},f=e=>{for(;i.length>e;)u()},p=(e,n,t)=>{f(s+1);i[s].token.children.push(n),a(n.position.end),s+=1,i.push({hook:e,token:n}),t&&u()},h=(e,n,t)=>{const r=d(e,n);if(null==r)return!1;const o=r.shallowSnapshot(),l=o[0];null!=l.token.children&&t.token.children.push(...l.token.children),a(l.token.position.end);for(let s=1;s<o.length;++s){const e=o[s];i.push(e)}return s=i.length-1,!0};return{consume:t=>{const{nodePoints:c,startIndex:d,endIndex:u}=t;let{firstNonWhitespaceIndex:x,countOfPrecedeSpaces:I,startIndex:k}=t;const m=()=>({nodePoints:c,startIndex:k,endIndex:u,firstNonWhitespaceIndex:x,countOfPrecedeSpaces:I}),g=(e,n)=>{if(l(k<=e,`[DBTContext#moveForward] nextIndex(${e}) is behind i(${k}).`),n){const n=(0,o.lM)(c,e-1);a(n)}if(k!==e)for(k=e,I=0,x=e;x<u;++x){const e=c[x].codePoint;if((0,r.QP)(e))I+=1;else if(!(0,r.Vn)(e))break}},y=(e,n)=>{const{token:t}=i[s],r=e.eatOpener(n,t);if(null==r)return!1;l(r.nextIndex>k,`[consumeNewOpener] The marker of the new data node cannot be empty.\n tokenizer(${r.token._tokenizer})`),g(r.nextIndex,!1);const o=r.token;return o._tokenizer=e.name,p(e,o,Boolean(r.saturated)),!0},P=(e,n)=>{if(null==e.eatAndInterruptPreviousSibling)return!1;const{hook:t,token:r}=i[s],{token:o}=i[s-1];if(e.priority<=t.priority)return!1;const l=e.eatAndInterruptPreviousSibling(n,r,o);if(null==l)return!1;f(s),o.children.pop(),null!=l.remainingSibling&&(Array.isArray(l.remainingSibling)?o.children.push(...l.remainingSibling):o.children.push(l.remainingSibling)),g(l.nextIndex,!1);const c=l.token;return c._tokenizer=e.name,p(e,c,Boolean(l.saturated)),!0};if((()=>{if(s=1,i.length<2)return;let{token:n}=i[s-1];for(;k<u&&s<i.length;){const t=i[s],r=t.hook,o=m();if(e.some((e=>e!==r&&P(e,o))))break;const l=null==r.eatContinuationText?{status:"notMatched"}:r.eatContinuationText(o,t.token,n);let c=!1,a=!1;switch(l.status){case"failedAndRollback":if(n.children.pop(),i.length=s,s-=1,l.lines.length>0){const e=i[s];if(h(r,l.lines,e)){a=!0;break}}c=!0;break;case"closingAndRollback":if(f(s),l.lines.length>0){const e=i[s];if(h(r,l.lines,e)){a=!0;break}}c=!0;break;case"notMatched":s-=1,c=!0;break;case"closing":g(l.nextIndex,!0),s-=1,c=!0;break;case"opening":g(l.nextIndex,!0);break;default:throw new TypeError(`[eatContinuationText] unexpected status (${l.status}).`)}if(c)break;a||(s+=1,n=t.token)}})(),(()=>{if(!(k>=u)){if(s<i.length){if(null!=i[i.length-1].hook.eatLazyContinuationText){if(m().countOfPrecedeSpaces>=4)return}}else s=i.length-1;for(;k<u&&i[s].hook.isContainingBlock;){let n=!1;const t=m();for(const r of e)if(y(r,t)){n=!0;break}if(!n)break}}})(),(()=>{if(k>=u||s+1>=i.length)return!1;const{hook:e,token:n}=i[i.length-1];if(null==e.eatLazyContinuationText)return!1;const{token:t}=i[i.length-2],r=m(),o=e.eatLazyContinuationText(r,n,t);switch(o.status){case"notMatched":return!1;case"opening":return s=i.length-1,g(o.nextIndex,!0),s=i.length-1,!0;default:throw new TypeError(`[eatLazyContinuationText] unexpected status (${o.status}).`)}})()||f(s+1),null!=n&&k<u){const e=m();y(n,e)}l(x>=u,`[IBlockContentProcessor] there is still unprocessed contents. startIndexOfLine(${d}), endIndexOfLine(${u})`)},done:()=>{for(;i.length>1;)u();return t},shallowSnapshot:()=>[...i]}},a=(e,n)=>{if(e.length<=0)return n;if(n.length<=0)return e;const t=[];let r=0,o=0;for(;r<e.length&&o<n.length;)e[r].startIndex<n[o].startIndex?(t.push(e[r]),r+=1):(t.push(n[o]),o+=1);for(;r<e.length;++r)t.push(e[r]);for(;o<n.length;++o)t.push(n[o]);return t},d=(e,n)=>{const t=(e,n,t)=>{let o=[],i=null;const s=[e,n];for(const r of t){const e=r.findDelimiter(s);if(null!=e){if(null!=i){if(e.startIndex>i)continue;e.startIndex<i&&(o=[])}i=e.startIndex,o.push({hook:r,delimiter:e})}}if(o.length<=0)return{items:[],nextIndex:-1};const l=i+1;if(o.length>1){let e=0;for(const n of o){const t=n.delimiter.type;if("full"===t)return{items:[n],nextIndex:n.delimiter.endIndex};"both"!==t&&"closer"!==t||(e+=1)}if(e>1){let e=-1,n=-1;for(let t=0;t<o.length;++t){const{hook:i,delimiter:s}=o[t];if("both"===s.type||"closer"===s.type){const o=r.findNearestPairedDelimiter(i,s);null!=o&&n<o.startIndex&&(e=t,n=o.startIndex)}}return{items:e>-1?[o[e]]:o.filter((e=>"closer"!==e.delimiter.type)),nextIndex:l}}}return{items:o,nextIndex:l}},r=(()=>{let e=0;const n=[],t=[],r=[],o=e=>{let n=e-1;for(;n>=0&&t[n].inactive;)n-=1;t.length=n+1},i=(e,n)=>{t.push({hook:e,delimiter:n,inactive:!1,tokenStackIndex:r.length})},s=(e,n)=>{if(t.length<=0)return n;let s,l=n,c=[];for(let a=t.length-1;a>=0;--a){const n=t[a];if(n.hook!==e||n.inactive)continue;const d=n.tokenStackIndex;for(d<r.length&&(c=r.splice(d).concat(c)),s=n.delimiter;null!=s&&null!=l;){if("opener"===l.type){i(e,l),l=void 0;break}if("full"===l.type)break;const r=e.isDelimiterPair(s,l,c);if(!r.paired){if(!r.opener){const t=e.processSingleDelimiter(s);if(t.length>0){for(const n of t)n._tokenizer=e.name;c.unshift(...t)}s=void 0,n.inactive=!0}if(!r.closer){const n=e.processSingleDelimiter(l);if(n.length>0){for(const t of n)t._tokenizer=e.name;c.push(...n)}l=void 0}break}const d=e.processDelimiterPair(s,l,c);for(const n of d.tokens)null==n._tokenizer&&(n._tokenizer=e.name);c=d.tokens,s=d.remainOpenerDelimiter,l=d.remainCloserDelimiter,o(a),a=Math.min(a,t.length),null!=s&&i(e,s)}if(null==l||"full"===l.type)break}if(r.push(...c),null==l)return null;if("full"===l.type||"closer"===l.type){const n=e.processSingleDelimiter(l);for(const t of n)t._tokenizer=e.name,r.push(t);return null}return l};return{process:(t,o)=>{for(;e<n.length;++e){const t=n[e];if(t.startIndex>=o.endIndex)break;t.startIndex>=o.startIndex||r.push(t)}switch(o.type){case"opener":i(t,o);break;case"both":{const e=s(t,o);null!=e&&i(t,e);break}case"closer":s(t,o);break;case"full":{const e=t.processSingleDelimiter(o);for(const n of e)n._tokenizer=t.name,r.push(n);break}default:throw new TypeError(`Unexpected delimiter type(${o.type}) from ${t.name}.`)}},done:()=>{const o=[];for(const{delimiter:e,hook:n}of t){const t=n.processSingleDelimiter(e);for(const e of t)e._tokenizer=n.name,o.push(e)}if(t.length=0,o.length>0){const e=a(r,o);r.length=0,r.push(...e)}return r.concat(n.slice(e))},reset:o=>{n.length=o.length;for(let e=0;e<o.length;++e)n[e]=o[e];e=0,t.length=0,r.length=0},findNearestPairedDelimiter:(e,r)=>{if(t.length<=0)return null;let o=null;for(let i=t.length-1;i>=0;--i){if(o=t[i],o.inactive||o.hook!==e)continue;const s=o.delimiter,l=e.isDelimiterPair(s,r,n);if(l.paired)return s;if(!l.closer)return null}return null}}})();return{process:(o,i,s)=>{let l=o;for(let c=n;c<e.length;++c){const n=e[c];for(const e of n)e.reset();let o=0;r.reset(l);for(let e=i;e<s;){let i=s;for(;o<l.length;++o){const n=l[o];if(e<n.startIndex){i=n.startIndex;break}e<n.endIndex&&(e=n.endIndex)}const{items:c,nextIndex:a}=t(e,i,n);if(a<0||c.length<=0)e=a<0?i:a;else{e+=1;for(const{hook:n,delimiter:t}of c)e=Math.max(e,t.endIndex),r.process(n,t)}}l=r.done()}return l}}},u=(e,n)=>{let t;const r=e.match(n);return{isDelimiterPair:()=>({paired:!0}),processDelimiterPair:(e,n,t)=>({tokens:t}),processSingleDelimiter:()=>[],...r,name:e.name,priority:e.priority,findDelimiter:e=>t.next(e).value,reset:()=>{t=r.findDelimiter(),t.next()}}};function f(e){const{inlineTokenizers:n,inlineTokenizerMap:t,blockTokenizers:r,blockTokenizerMap:i,blockFallbackTokenizer:s,inlineFallbackTokenizer:a,shouldReservePosition:f,presetDefinitions:p,presetFootnoteDefinitions:h,formatUrl:x}=e;let I=!1;const k=new Set,m=new Set;let g=[],y=-1,P=-1;const b=Object.freeze({matchBlockApi:{extractPhrasingLines:function(e){const n=i.get(e._tokenizer);return n?.extractPhrasingContentLines(e)??null},rollbackPhrasingLines:function(e,n){if(null!=n){const t=i.get(n._tokenizer);if(void 0!==t&&null!=t.buildBlockToken){const r=t.buildBlockToken(e,n);if(null!==r)return r._tokenizer=t.name,[r]}}return O([e]).children},registerDefinitionIdentifier:e=>{I&&k.add(e)},registerFootnoteDefinitionIdentifier:e=>{I&&m.add(e)}},parseBlockApi:{shouldReservePosition:f,formatUrl:x,processInlines:function(e){if(e.length<=0)return[];const n=function(e,n,t){g=e,y=n,P=t;const r=C.process([],n,t);return v(r,n,t)}(e,0,e.length);return _(n)},parseBlockTokens:L},matchInlineApi:{hasDefinition:e=>k.has(e),hasFootnoteDefinition:e=>m.has(e),getNodePoints:()=>g,getBlockStartIndex:()=>y,getBlockEndIndex:()=>P,resolveFallbackTokens:v},parseInlineApi:{shouldReservePosition:f,calcPosition:e=>({start:(0,o._z)(g,e.startIndex),end:(0,o.lM)(g,e.endIndex-1)}),formatUrl:x,getNodePoints:()=>g,hasDefinition:e=>k.has(e),hasFootnoteDefinition:e=>m.has(e),parseInlineTokens:_}}),E=r.map((e=>({...e.match(b.matchBlockApi),name:e.name,priority:e.priority}))),A=new Map(Array.from(i.entries()).map((e=>[e[0],e[1].parse(b.parseBlockApi)]))),T=s?{...s.match(b.matchBlockApi),name:s.name,priority:s.priority}:null,N=((e,n,t)=>{const r=[];for(let o=0;o<e.length;){const i=[];r.push(i);const s=d(r,r.length),l=Object.freeze({...n,resolveInternalTokens:(e,n,r)=>{let o=s.process(e,n,r);return o=t(o,n,r),o}}),c=e[o].priority;for(;o<e.length;++o){const n=e[o];if(n.priority!==c)break;const t=u(n,l);i.push(t)}}return r})(n,b.matchInlineApi,v),S=new Map(Array.from(t.entries()).map((e=>[e[0],e[1].parse(b.parseInlineApi)]))),C=d(N,0);return{process:function(e){k.clear(),m.clear(),I=!0;const n=O(e);I=!1;for(const r of p)k.add(r.identifier);for(const r of h)m.add(r.identifier);const t=L(n.children);return f?{type:"root",position:n.position,children:t}:{type:"root",children:t}}};function v(e,n,t){if(null==a)return e;let r=n;const o=[];for(const i of e){if(r<i.startIndex){const e=a.findAndHandleDelimiter(r,i.startIndex,b.matchInlineApi);e._tokenizer=a.name,o.push(e)}o.push(i),r=i.endIndex}if(r<t){const e=a.findAndHandleDelimiter(r,t,b.matchInlineApi);e._tokenizer=a.name,o.push(e)}return o}function O(e){const n=c(E,T);for(const t of e)for(const e of t)n.consume(e);return n.done()}function L(e){if(void 0===e||e.length<=0)return[];const n=[];for(let t,r=0;r<e.length;r=t){const o=e[r]._tokenizer;for(t=r+1;t<e.length&&e[t]._tokenizer===o;)t+=1;const i=A.get(o);l(void 0!==i,`[parseBlock] tokenizer '${o}' not found`);const s=i.parse(e.slice(r,t));n.push(...s)}return n}function _(e){if(void 0===e||e.length<=0)return[];const n=[];for(let t,r=0;r<e.length;r=t){const o=e[r]._tokenizer;for(t=r+1;t<e.length&&e[t]._tokenizer===o;)t+=1;const i=S.get(o);l(void 0!==i,`[parseBlock] tokenizer '${o}' not found`);const s=i.parse(e.slice(r,t));n.push(...s)}return n}}class p{blockTokenizers;blockTokenizerMap;inlineTokenizers;inlineTokenizerMap;blockFallbackTokenizer=null;inlineFallbackTokenizer=null;defaultParseOptions=null;constructor(e){this.inlineTokenizers=[],this.inlineTokenizerMap=new Map,this.blockTokenizers=[],this.blockTokenizerMap=new Map,this.setDefaultParseOptions(e.defaultParseOptions),e.blockFallbackTokenizer&&this.useFallbackTokenizer(e.blockFallbackTokenizer),e.inlineFallbackTokenizer&&this.useFallbackTokenizer(e.inlineFallbackTokenizer)}useTokenizer(e,n){const t=e.type===o.QU.BLOCK?this.blockTokenizers:this.inlineTokenizers,r=e.type===o.QU.BLOCK?this.blockTokenizerMap:this.inlineTokenizerMap;return this._registerTokenizer(t,r,e,n),this}replaceTokenizer(e,n){const t=e.type===o.QU.BLOCK?this.blockTokenizers:this.inlineTokenizers,r=e.type===o.QU.BLOCK?this.blockTokenizerMap:this.inlineTokenizerMap;return this._replaceTokenizer(t,r,e,n),this}unmountTokenizer(e){return this._unregisterTokenizer(this.inlineTokenizers,this.inlineTokenizerMap,e),this._unregisterTokenizer(this.blockTokenizers,this.blockTokenizerMap,e),this}useFallbackTokenizer(e){switch(e.type){case o.QU.BLOCK:this.blockFallbackTokenizer&&this.unmountTokenizer(this.blockFallbackTokenizer),this.blockTokenizerMap.set(e.name,e),this.blockFallbackTokenizer=e;break;case o.QU.INLINE:this.inlineFallbackTokenizer&&this.unmountTokenizer(this.inlineFallbackTokenizer),this.inlineTokenizerMap.set(e.name,e),this.inlineFallbackTokenizer=e}return this}setDefaultParseOptions(e={}){this.defaultParseOptions={presetDefinitions:[],presetFootnoteDefinitions:[],shouldReservePosition:!1,formatUrl:o.Ns,...e}}parse(e,n={}){const{shouldReservePosition:t,presetDefinitions:o,presetFootnoteDefinitions:i,formatUrl:s}={...this.defaultParseOptions,...n},l=function*(e){const n=[];let t=0,o=0,i=0;for(const s of e){const e=[];for(const l of s){const s=l.codePoint;if(o===n.length&&(0,r.QP)(s)&&(i+=1,o+=1),n.push(l),(0,r.c$)(s)){o+1===n.length&&(o+=1);const r={nodePoints:n,startIndex:t,endIndex:n.length,firstNonWhitespaceIndex:o,countOfPrecedeSpaces:i};e.push(r),t=n.length,o=n.length,i=0}}yield e}if(t<n.length){const e={nodePoints:n,startIndex:t,endIndex:n.length,firstNonWhitespaceIndex:o,countOfPrecedeSpaces:i};yield[e]}return n}((0,r.W7)(e));return f({inlineTokenizers:this.inlineTokenizers,inlineTokenizerMap:this.inlineTokenizerMap,blockTokenizers:this.blockTokenizers,blockTokenizerMap:this.blockTokenizerMap,blockFallbackTokenizer:this.blockFallbackTokenizer,inlineFallbackTokenizer:this.inlineFallbackTokenizer,shouldReservePosition:t,presetDefinitions:o,presetFootnoteDefinitions:i,formatUrl:s}).process(l)}_replaceTokenizer(e,n,t,r){this._unregisterTokenizer(e,n,t.name),this._registerTokenizer(e,n,t,r)}_registerTokenizer(e,n,t,r){if(n.has(t.name)){if(null!=n.get(t.name))throw new TypeError(`[useTokenizer] Name(${t.name}) has been registered.`)}n.set(t.name,t);let o=0;for(;o<e.length;++o){const n=e[o];if(r===n.name)break;if(t.priority>n.priority)break}o<0||o>=e.length?e.push(t):e.splice(o,0,t)}_unregisterTokenizer(e,n,t){const r="string"==typeof t?t:t.name;if(!n.delete(r))return;this.blockFallbackTokenizer?.name===r&&(this.blockFallbackTokenizer=null),this.inlineFallbackTokenizer?.name===r&&(this.inlineFallbackTokenizer=null);const o=e.findIndex((e=>e.name===r));o>=0&&e.splice(o,1)}}},8107:(e,n,t)=>{"use strict";t.d(n,{EW:()=>l,Ek:()=>o,Hc:()=>g,Ns:()=>x,QU:()=>r,Vt:()=>k,_z:()=>d,cu:()=>a,dD:()=>c,hb:()=>p,jD:()=>y,jN:()=>m,lM:()=>u,n7:()=>I,qQ:()=>b,ts:()=>P,uZ:()=>h,um:()=>E,vl:()=>f});var r,o,i=t(4633),s=t(4704);!function(e){e.BLOCK="block",e.INLINE="inline"}(r||(r={})),function(e){e[e.ATOMIC=10]="ATOMIC",e[e.FENCED_BLOCK=10]="FENCED_BLOCK",e[e.CONTAINING_BLOCK=10]="CONTAINING_BLOCK",e[e.INTERRUPTABLE_BLOCK=2]="INTERRUPTABLE_BLOCK",e[e.IMAGES=4]="IMAGES",e[e.LINKS=3]="LINKS",e[e.CONTAINING_INLINE=2]="CONTAINING_INLINE",e[e.SOFT_INLINE=1]="SOFT_INLINE",e[e.FALLBACK=-1]="FALLBACK"}(o||(o={}));class l{type=r.INLINE;name;priority;constructor(e){this.name=e.name,this.priority=e.priority}toString(){return this.name}}function*c(e){let n=-1,t=null;for(;;){const[r,o]=yield t;n===o&&(null==t||t.startIndex>=r)||(n=o,t=e(r,o))}}class a{type=r.BLOCK;name;priority;constructor(e){this.name=e.name,this.priority=e.priority}extractPhrasingContentLines(e){return null}buildBlockToken(e,n){return null}toString(){return this.name}}function d(e,n){const{line:t,column:r,offset:o}=e[n];return{line:t,column:r,offset:o}}function u(e,n){const{line:t,column:r,offset:o}=e[n];return{line:t,column:r+1,offset:o+1}}function f(e){const n=e[0],t=e[e.length-1];return{start:d(n.nodePoints,n.startIndex),end:u(t.nodePoints,t.endIndex-1)}}function p(e,n=0,t=e.length){if(n>=t||n<0||t>e.length)return[];const r=[];for(let o=n;o<t;++o){const{nodePoints:n,startIndex:t,endIndex:i}=e[o];for(let e=t;e<i;++e)r.push(n[e])}return r}function h(e,n=0,t=e.length){const r=[];if(n>=t||n<0||t>e.length)return[];for(let i=n;i+1<t;++i){const{nodePoints:n,endIndex:t,firstNonWhitespaceIndex:o}=e[i];for(let e=o;e<t;++e)r.push(n[e])}const{nodePoints:o,endIndex:s,firstNonWhitespaceIndex:l}=e[t-1];let c=s-1;for(;c>=0;--c){const e=o[c];if(!(0,i.Vn)(e.codePoint))break}for(let i=l;i<=c;++i)r.push(o[i]);return r}function x(e){let n=e;for(;;)try{const e=decodeURIComponent(n);if(e===n)break;n=e}catch(t){break}return encodeURI(n)}function I(e){const n=e.trim().replace(/\s+/gu," ").toLowerCase();return(0,i.SP)(n)}function k(e,n,t){const r=(0,i.uX)(e,n,t,!0);if(r.length<=0)return null;return{label:r,identifier:I(r)}}function m(e,n,t){let r=n+1;const o=Math.min(r+1e3,t);for(;r<o;++r){switch(e[r].codePoint){case i.rt.BACKSLASH:r+=1;break;case i.rt.OPEN_BRACKET:return{nextIndex:-1,labelAndIdentifier:null};case i.rt.CLOSE_BRACKET:return{nextIndex:r+1,labelAndIdentifier:k(e,n+1,r)}}}return{nextIndex:-1,labelAndIdentifier:null}}function g(e){return e.nodeType===s.J||e.nodeType===s.IO}function y(e,n,t,r){let o=n;for(;o<t&&e[o].codePoint===r;)o+=1;return o}function P(e,n,t){let r=n;for(;r<t&&(0,i.Vn)(e[r].codePoint);)r+=1;return r}function b(e,n,t){let r=n;for(let o=n;o<t;++o){const n=e[o].codePoint;if(!(0,i.QP)(n)){if(!(0,i.c$)(n))break;r=o+1}}return r}function E(e){if(e.length<=0)return[];let n=0;for(;n<e.length;++n){const t=e[n];if(t.firstNonWhitespaceIndex<t.endIndex)break}let t=e.length-1;for(;t>n;--t){const n=e[t];if(n.firstNonWhitespaceIndex<n.endIndex)break}return n>t?[]:e.slice(n,t+1)}},3896:(e,n,t)=>{"use strict";t.d(n,{A:()=>S});var r=t(8791),o=t(6883),i=t(8347),s=t(731),l=t(1857),c=t(913),a=t(2627),d=t(3368),u=t(3057),f=t(1154),p=t(3801),h=t(3331),x=t(9611),I=t(4775),k=t(5065),m=t(8303),g=t(9082),y=t(6758),P=t(6910),b=t(1666),E=t(9270),A=t(7544),T=t(6383),N=t(5545);class S extends r.nf{constructor(e={}){super({...e,blockFallbackTokenizer:e.blockFallbackTokenizer??new b.Ay,inlineFallbackTokenizer:e.inlineFallbackTokenizer??new T.Ay}),this.useTokenizer(new k.Ay).useTokenizer(new p.Ay).useTokenizer(new E.Ay).useTokenizer(new N.Ay).useTokenizer(new s.Ay).useTokenizer(new P.Ay({enableTaskListItem:!0})).useTokenizer(new f.Ay).useTokenizer(new u.Ay).useTokenizer(new c.Ay).useTokenizer(new A.Ay).useTokenizer(new h.Ay).useTokenizer(new m.Ay).useTokenizer(new o.Ay).useTokenizer(new i.Ay).useTokenizer(new l.Ay).useTokenizer(new x.Ay).useTokenizer(new I.Ay).useTokenizer(new g.Ay).useTokenizer(new y.Ay).useTokenizer(new d.Ay).useTokenizer(new a.Ay)}}},5176:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var r=t(8791),o=t(6883),i=t(731),s=t(1857),l=t(913),c=t(3368),a=t(3057),d=t(1154),u=t(3801),f=t(3331),p=t(9611),h=t(4775),x=t(5065),I=t(8303),k=t(9082),m=t(6758),g=t(6910),y=t(1666),P=t(9270),b=t(6383),E=t(5545);class A extends r.nf{constructor(e={}){super({...e,blockFallbackTokenizer:e.blockFallbackTokenizer??new y.Ay,inlineFallbackTokenizer:e.inlineFallbackTokenizer??new b.Ay}),this.useTokenizer(new x.Ay).useTokenizer(new u.Ay).useTokenizer(new P.Ay).useTokenizer(new E.Ay).useTokenizer(new i.Ay).useTokenizer(new g.Ay({enableTaskListItem:!1})).useTokenizer(new d.Ay).useTokenizer(new a.Ay).useTokenizer(new l.Ay).useTokenizer(new f.Ay).useTokenizer(new I.Ay).useTokenizer(new o.Ay).useTokenizer(new s.Ay).useTokenizer(new p.Ay).useTokenizer(new h.Ay).useTokenizer(new k.Ay).useTokenizer(new m.Ay).useTokenizer(new c.Ay)}}},620:(e,n,t)=>{"use strict";t.d(n,{A:()=>ie});var r=t(8791),o=t(7627),i=t(4704),s=t(4633),l=t(8107);const c=function(e){return{...o.AZ.call(this,e),isContainingBlock:!0,onClose:function(n){const t=e.rollbackPhrasingLines(n.lines);n.children=t}}},a=function(e){return{parse:n=>n.map((n=>{const t=n.infoString;let r=0;const o=[];for(;r<t.length;++r){const e=t[r];if((0,s.Eh)(e.codePoint))break;o.push(e)}r=(0,l.ts)(t,r,t.length);const c=(()=>{if(r>=t.length)return[];const n=[{nodePoints:t,startIndex:r,endIndex:t.length,firstNonWhitespaceIndex:r,countOfPrecedeSpaces:0}],o=(0,l.uZ)(n);return e.processInlines(o)})(),a=(0,s.HU)(o,0,o.length,!0),d=e.parseBlockTokens(n.children);return e.shouldReservePosition?{type:i.lX,position:n.position,keyword:a,title:c,children:d}:{type:i.lX,keyword:a,title:c,children:d}}))}};class d extends o.Ay{constructor(e={}){super({name:e.name??"@yozora/tokenizer-admonition",priority:e.priority??l.Ek.FENCED_BLOCK,nodeType:i.lX,markers:[s.rt.COLON],markersRequired:3})}match=c;parse=a}var u=t(6883),f=t(8347),p=t(731),h=t(1857),x=t(913),I=t(2627);const k=/^(\w+)(?:\s+as\s+(\w+))?$/,m=/\s*;*\s*$/,g=new RegExp(/^import\s+(['"])([^'"]+)\1/.source+m.source),y=new RegExp(/^import\s+([\w]+)\s+from\s+(['"])([^'"]+)\2/.source+m.source),P=new RegExp(/^import\s+(?:([\w]+)\s*,\s*)?/.source+/\{\s*((?:[\w]+(?:\s+as\s+[\w]+)?\s*,\s*)*[\w]+(?:\s+as\s+[\w]+)?)\s*\}\s*/.source+/from\s+(['"])([^'"]+)\3/.source+m.source);function b(e){const n=e.split(/\s*,\s*/g).filter((e=>e.length>0)),t=[];for(const r of n){const[,e,n]=k.exec(r);t.push({src:e,alias:null==n?null:n})}return t}const E=function(){return{isContainingBlock:!1,eatOpener:function(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,endIndex:r,firstNonWhitespaceIndex:o}=e;if(o+8>=r)return null;const c=o;if(n[c].codePoint!==s.rt.LOWERCASE_I)return null;if(n[c+1].codePoint!==s.rt.LOWERCASE_M)return null;if(n[c+2].codePoint!==s.rt.LOWERCASE_P)return null;if(n[c+3].codePoint!==s.rt.LOWERCASE_O)return null;if(n[c+4].codePoint!==s.rt.LOWERCASE_R)return null;if(n[c+5].codePoint!==s.rt.LOWERCASE_T)return null;const[a,d]=(0,s.R0)(n,o,r),u=(0,s.uX)(n,a,d);let f,p=null;const h=()=>({start:(0,l._z)(n,t),end:(0,l.lM)(n,r-1)});null!=(f=g.exec(u))?p={nodeType:i.A0,position:h(),moduleName:f[2],defaultImport:null,namedImports:[]}:null!=(f=y.exec(u))?p={nodeType:i.A0,position:h(),moduleName:f[3],defaultImport:f[1],namedImports:[]}:null!=(f=P.exec(u))&&(p={nodeType:i.A0,position:h(),moduleName:f[4],defaultImport:f[1],namedImports:b(f[2])});return null===p?null:{token:p,nextIndex:r,saturated:!0}}}},A=function(e){return{parse:n=>n.map((n=>e.shouldReservePosition?{type:i.A0,position:n.position,moduleName:n.moduleName,defaultImport:n.defaultImport,namedImports:n.namedImports}:{type:i.A0,moduleName:n.moduleName,defaultImport:n.defaultImport,namedImports:n.namedImports}))}};class T extends l.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-ecma-import",priority:e.priority??l.Ek.ATOMIC})}match=E;parse=A}var N=t(3368),S=t(3057),C=t(9082);const v=function(e){return{findDelimiter:()=>(0,l.dD)(n),isDelimiterPair:function(n,t,r){const o=e.getNodePoints();switch((0,C.I$)(n.endIndex,t.startIndex,r,o)){case-1:return{paired:!1,opener:!1,closer:!0};case 0:return{paired:!0};case 1:return{paired:!1,opener:!0,closer:!1}}},processDelimiterPair:function(n,t,r){return{tokens:[{nodeType:i.$r,startIndex:n.startIndex,endIndex:t.endIndex,children:e.resolveInternalTokens(r,n.endIndex,t.startIndex)}]}}};function n(n,t){const r=e.getNodePoints();for(let e=n;e<t;++e){switch(r[e].codePoint){case s.rt.BACKSLASH:e+=1;break;case s.rt.CARET:if(e+1<t&&r[e+1].codePoint===s.rt.OPEN_BRACKET)return{type:"opener",startIndex:e,endIndex:e+2};break;case s.rt.CLOSE_BRACKET:return{type:"closer",startIndex:e,endIndex:e+1}}}return null}},O=function(e){return{parse:n=>n.map((n=>{const t=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:i.$r,position:e.calcPosition(n),children:t}:{type:i.$r,children:t}}))}};class L extends l.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-footnote",priority:e.priority??l.Ek.LINKS})}match=v;parse=O}function _(e,n,t){let r=n;if(r+1>=t||e[r].codePoint!==s.rt.OPEN_BRACKET||e[r+1].codePoint!==s.rt.CARET)return-1;let o=!0;const i=Math.min(t,r+1+1e3);for(r+=2;r<i;++r){const n=e[r].codePoint;switch(n){case s.rt.BACKSLASH:r+=1;break;case s.rt.OPEN_BRACKET:return-1;case s.rt.CLOSE_BRACKET:return o?-1:r+1;case s.JQ.LINE_END:return-1;default:o&&!(0,s.Vn)(n)&&(o=!1)}}return-1}const z=function(e){const{indent:n}=this;return{isContainingBlock:!0,eatOpener:function(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,firstNonWhitespaceIndex:r,endIndex:o}=e,c=_(n,r,o);if(c<0||c>=o||n[c].codePoint!==s.rt.COLON)return null;return{token:{nodeType:i.kN,position:{start:(0,l._z)(n,t),end:(0,l.lM)(n,c)},label:{nodePoints:n,startIndex:r,endIndex:c},children:[]},nextIndex:c+1}},eatContinuationText:function(e){const{startIndex:t,endIndex:r,firstNonWhitespaceIndex:o,countOfPrecedeSpaces:i}=e;if(o>=r)return{status:"opening",nextIndex:Math.min(r-1,t+n)};if(i>=n)return{status:"opening",nextIndex:t+n};return{status:"notMatched"}},onClose:function(n){const t=(0,s.uX)(n.label.nodePoints,n.label.startIndex+2,n.label.endIndex-1),r=(0,l.n7)(t);e.registerFootnoteDefinitionIdentifier(r),n._label=t,n._identifier=r}}},w=function(e){return{parse:n=>n.map((n=>{const t=n._label,r=n._identifier,o=e.parseBlockTokens(n.children);return e.shouldReservePosition?{type:i.kN,position:n.position,identifier:r,label:t,children:o}:{type:i.kN,identifier:r,label:t,children:o}}))}};class R extends l.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-footnote-definition",priority:e.priority??l.Ek.CONTAINING_BLOCK})}indent=4;match=z;parse=w}const B=function(e){return{findDelimiter:()=>(0,l.dD)(n),processSingleDelimiter:function(n){const t=e.getNodePoints(),r=(0,l.Vt)(t,n.startIndex+2,n.endIndex-1);if(null==r)return[];const{label:o,identifier:s}=r;if(!e.hasFootnoteDefinition(s))return[];return[{nodeType:i.er,startIndex:n.startIndex,endIndex:n.endIndex,label:o,identifier:s}]}};function n(n,t){const r=e.getNodePoints();for(let e=n;e<t;++e){switch(r[e].codePoint){case s.rt.BACKSLASH:e+=1;break;case s.rt.OPEN_BRACKET:{const n=_(r,e,t);if(n>=0)return{type:"full",startIndex:e,endIndex:n};break}}}return null}},j=function(e){return{parse:n=>n.map((n=>{const{identifier:t,label:r}=n;return e.shouldReservePosition?{type:i.er,position:e.calcPosition(n),identifier:t,label:r}:{type:i.er,identifier:t,label:r}}))}};class D extends l.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-footnote-reference",priority:e.priority??l.Ek.ATOMIC})}match=B;parse=j}var M=t(1154),K=t(3801),U=t(3331),H=t(9611),G=t(4775),W=t(5065),F=t(8303);const Q=function(e){const{backtickRequired:n}=this;return{findDelimiter:function*(){const t=e.getNodePoints(),r=e.getBlockStartIndex(),o=e.getBlockEndIndex(),i=[];for(let e=r;e<o;++e){switch(t[e].codePoint){case s.rt.BACKSLASH:e+=1;break;case s.rt.BACKTICK:{const n=e;if(e=(0,l.jD)(t,e+1,o,s.rt.BACKTICK),e>=o||t[e].codePoint!==s.rt.DOLLAR_SIGN)break;const r={type:"opener",startIndex:n,endIndex:e+1};i.push(r);break}case s.rt.DOLLAR_SIGN:{const r=e;if(e=(0,l.jD)(t,e+1,o,s.rt.BACKTICK),e<o&&t[e].codePoint===s.rt.DOLLAR_SIGN)break;if(e-r<=1){if(n)break;const t={type:"both",startIndex:r,endIndex:e};i.push(t);break}const c={type:"closer",startIndex:r,endIndex:e};i.push(c),e-=1;break}}}let c=0,a=-1,d=null;for(;c<i.length;){const[e,n]=yield d;if(a===n&&(null==d||d.startIndex>=e))continue;a=n;let t=null,r=null;for(;c<i.length;++c){for(;c<i.length;++c){const n=i[c];if(n.startIndex>=e&&"closer"!==n.type)break}if(c+1>=i.length)break;t=i[c];const n=t.endIndex-t.startIndex;for(let e=c+1;e<i.length;++e){const t=i[e];if("opener"!==t.type&&t.endIndex-t.startIndex===n){r=t;break}}if(null!=r)break}if(null==r)return;d={type:"full",startIndex:t.startIndex,endIndex:r.endIndex,thickness:r.endIndex-r.startIndex}}},processSingleDelimiter:function(e){return[{nodeType:i.WP,startIndex:e.startIndex,endIndex:e.endIndex,thickness:e.thickness}]}}},V=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let r=n.startIndex+n.thickness,o=n.endIndex-n.thickness,l=!0;for(let e=r;e<o;++e)if(!(0,s.cW)(t[e].codePoint)){l=!1;break}if(!l&&r+2<o){const e=t[r].codePoint,n=t[o-1].codePoint;(0,s.cW)(e)&&(0,s.cW)(n)&&(r+=1,o-=1)}const c=(0,s.uX)(t,r,o).replace(/\n/g," ");return e.shouldReservePosition?{type:i.WP,position:e.calcPosition(n),value:c}:{type:i.WP,value:c}}))}};class $ extends l.EW{backtickRequired;constructor(e={}){super({name:e.name??"@yozora/tokenizer-inline-math",priority:e.priority??l.Ek.ATOMIC}),this.backtickRequired=e.backtickRequired??!0}match=Q;parse=V}var X=t(6758),J=t(6910);const q=function(e){const{markers:n}=this,t=o.AZ.call(this,e);return{...t,isContainingBlock:!0,eatOpener:function(e,r){const o=t.eatOpener(e,r);if(null==o)return null;const{token:i}=o,[l,c]=(0,s.R0)(i.infoString);if(l>=c)return o;let a=c-1;for(;a>=l;--a){const e=i.infoString[a].codePoint;if(!n.includes(e))break}const d=c-a-1;if(d!==i.markerCount)return null;return{token:{...i,infoString:[],lines:[{nodePoints:i.infoString,startIndex:0,endIndex:c-d,firstNonWhitespaceIndex:l,countOfPrecedeSpaces:0}]},nextIndex:e.endIndex,saturated:!0}}}},Z=function(e){return{parse:n=>n.map((n=>{const t=(0,l.hb)(n.lines);let r=(0,s.uX)(t);/\n$/.test(r)||(r+="\n");return e.shouldReservePosition?{type:i.D8,position:n.position,value:r}:{type:i.D8,value:r}}))}};class Y extends o.Ay{constructor(e={}){super({name:e.name??"@yozora/tokenizer-math",priority:e.priority??l.Ek.FENCED_BLOCK,nodeType:i.D8,markers:[s.rt.DOLLAR_SIGN],markersRequired:2})}match=q;parse=Z}var ee=t(1666),ne=t(9270),te=t(7544),re=t(6383),oe=t(5545);class ie extends r.nf{constructor(e={}){super({...e,blockFallbackTokenizer:e.blockFallbackTokenizer??new ee.Ay,inlineFallbackTokenizer:e.inlineFallbackTokenizer??new re.Ay}),this.useTokenizer(new W.Ay).useTokenizer(new K.Ay).useTokenizer(new ne.Ay).useTokenizer(new oe.Ay).useTokenizer(new p.Ay).useTokenizer(new J.Ay({enableTaskListItem:!0})).useTokenizer(new M.Ay).useTokenizer(new S.Ay).useTokenizer(new d).useTokenizer(new Y).useTokenizer(new R).useTokenizer(new x.Ay).useTokenizer(new T).useTokenizer(new te.Ay).useTokenizer(new U.Ay).useTokenizer(new $({backtickRequired:!1})).useTokenizer(new F.Ay).useTokenizer(new u.Ay).useTokenizer(new f.Ay).useTokenizer(new h.Ay).useTokenizer(new L).useTokenizer(new D).useTokenizer(new H.Ay).useTokenizer(new G.Ay).useTokenizer(new C.Ay).useTokenizer(new X.Ay).useTokenizer(new N.Ay).useTokenizer(new I.Ay)}}},8347:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>p});var r=t(4633),o=t(6883),i=t(4704),s=t(8107);function l(e,n,t){let o=n;for(;o<t;++o){const n=e[o].codePoint;if((0,r.Vn)(n)||n===r.rt.OPEN_ANGLE)break}for(o-=1;o>=n;o-=1){const n=e[o].codePoint;if(!(0,r.a3)(n)&&n!==r.rt.QUESTION_MARK&&n!==r.rt.EXCLAMATION_MARK&&n!==r.rt.DOT&&n!==r.rt.COMMA&&n!==r.rt.COLON&&n!==r.rt.ASTERISK&&n!==r.rt.UNDERSCORE&&n!==r.rt.TILDE)break}if(o>=n&&o+1<t&&e[o+1].codePoint===r.rt.CLOSE_PARENTHESIS){let i=0;for(let t=n;t<o;++t){switch(e[t].codePoint){case r.rt.OPEN_PARENTHESIS:i+=1;break;case r.rt.CLOSE_PARENTHESIS:i-=1}}if(i>0){for(o+=2,i-=1;o<t&&i>0;){if(e[o].codePoint!==r.rt.CLOSE_PARENTHESIS)break;i-=1,o+=1}o-=1}}if(o+1<t&&e[o+1].codePoint===r.rt.SEMICOLON){let t=o;for(;t>=n;--t){const n=e[t].codePoint;if(!(0,r.gQ)(n))break}t>=n&&e[t].codePoint===r.rt.AMPERSAND&&(o=t-1)}return o+1}function c(e,n,t){const o=a(e,n,t);if(!o.valid||o.nextIndex>=t)return{valid:!1,nextIndex:o.nextIndex};let i=o.nextIndex,s=0,l=o.hasUnderscore?2:0;for(;i<t&&e[i].codePoint===r.rt.DOT;){const n=a(e,i+1,t);if(!n.valid)break;i=n.nextIndex,s+=1,l>>>=1,l|=n.hasUnderscore?2:0}return s<=0&&0===l?{valid:!1,nextIndex:i}:{valid:!0,nextIndex:i}}function a(e,n,t){let o=n,i=!1;for(;o<t;++o){const n=e[o].codePoint;if(n!==r.rt.UNDERSCORE){if(!(0,r.gQ)(n)&&n!==r.rt.MINUS_SIGN)break}else i=!0}return o>n?{valid:!0,nextIndex:o,hasUnderscore:i}:{valid:!1,nextIndex:o,hasUnderscore:i}}const d=[{contentType:"uri",eat:function(e,n,t){const i=(0,o.T1)(e,n,t),{nextIndex:s}=i;if(!i.valid||s+3>=t||e[s].codePoint!==r.rt.COLON||e[s+1].codePoint!==r.rt.SLASH||e[s+2].codePoint!==r.rt.SLASH)return{valid:!1,nextIndex:s+1};const a=c(e,s+3,t);return a.nextIndex=l(e,a.nextIndex,t),a}},{contentType:"uri-www",eat:function(e,n,t){const o=a(e,n,t),i=o.nextIndex;if(!o.valid||i>=t||e[i].codePoint!==r.rt.DOT||i-n!=3)return{valid:!1,nextIndex:i};for(let l=n;l<i;++l){const n=e[l].codePoint;if(n!==r.rt.LOWERCASE_W&&n!==r.rt.UPPERCASE_W)return{valid:!1,nextIndex:i}}const s=c(e,i+1,t);return s.nextIndex=l(e,s.nextIndex,t),s}},{contentType:"email",eat:function(e,n,t){let o=n;if(o>=t||!(0,r.gQ)(e[o].codePoint))return{valid:!1,nextIndex:o+1};for(o+=1;o<t;o+=1){const n=e[o].codePoint;if(!(0,r.gQ)(n)&&n!==r.rt.DOT&&n!==r.rt.MINUS_SIGN&&n!==r.rt.UNDERSCORE&&n!==r.rt.PLUS_SIGN)break}if(o===n||o+2>=t||e[o].codePoint!==r.rt.AT_SIGN||!(0,r.gQ)(e[o+1].codePoint))return{valid:!1,nextIndex:o+1};let i=0;for(o+=2;o<t;o+=1){const n=e[o].codePoint;if(n!==r.rt.DOT){if(!(0,r.gQ)(n)&&n!==r.rt.MINUS_SIGN&&n!==r.rt.UNDERSCORE)break}else i+=1}const s=e[o-1].codePoint;return s===r.rt.MINUS_SIGN||s===r.rt.UNDERSCORE?{valid:!1,nextIndex:o}:(s===r.rt.DOT&&(o-=1,i-=1),i<=0?{valid:!1,nextIndex:o}:{valid:!0,nextIndex:o})}}],u=function(e){return{findDelimiter:()=>(0,s.dD)(n),processSingleDelimiter:function(n){return[{nodeType:i.J,startIndex:n.startIndex,endIndex:n.endIndex,contentType:n.contentType,children:e.resolveFallbackTokens([],n.startIndex,n.endIndex)}]}};function n(n,t){const o=e.getNodePoints(),i=e.getBlockStartIndex();for(let e=n;e<t;++e){{let n=e,s=!1;for(;n<t;++n){const e=o[n].codePoint;if((0,r.Vn)(e)||e===r.rt.ASTERISK||e===r.rt.UNDERSCORE||e===r.rt.TILDE||e===r.rt.OPEN_PARENTHESIS)s=!0;else{if(s||n===i)break;s=!1}}if(n>=t)break;e=n}let n=t,s=null;for(const r of d){const i=r.eat(o,e,t);if(n=Math.min(n,i.nextIndex),i.valid){s=r.contentType,n=i.nextIndex;break}}if(null!=s){if(n<=t)return{type:"full",startIndex:e,endIndex:n,contentType:s};e=n-1}else e=Math.max(e,n-1)}return null}},f=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let o=(0,r.uX)(t,n.startIndex,n.endIndex);switch(n.contentType){case"email":o="mailto:"+o;break;case"uri-www":o="http://"+o}const s=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:i.J,position:e.calcPosition(n),url:o,children:s}:{type:i.J,url:o,children:s}}))}};class p extends s.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-autolink-extension",priority:e.priority??s.Ek.LINKS})}match=u;parse=f}},6883:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>u,T1:()=>l});var r=t(4633),o=t(4704),i=t(8107);function s(e,n,t){let o=n,i=-1;for(let s=Math.min(t,o+62);o<s;++o){const n=e[o].codePoint;if((0,r.Ab)(n)||(0,r.mE)(n))i=o;else if(n!==r.rt.MINUS_SIGN)break}return i>=n?i+1:n}function l(e,n,t){let o=n;const i=e[o].codePoint;if(!(0,r.Ab)(i))return{valid:!1,nextIndex:o+1};for(o+=1;o<t;++o){const n=e[o].codePoint;if(!(0,r.gQ)(n)&&n!==r.rt.PLUS_SIGN&&n!==r.rt.DOT&&n!==r.rt.MINUS_SIGN)break}const s=o-n;return s<2||s>32?{valid:!1,nextIndex:o+1}:{valid:!0,nextIndex:o}}const c=[{contentType:"uri",eat:function(e,n,t){const o=l(e,n,t);let{nextIndex:i}=o;if(!o.valid||i>=t||e[i].codePoint!==r.rt.COLON)return{valid:!1,nextIndex:i};for(i+=1;i<t;++i){const n=e[i].codePoint;if(!(0,r.b6)(n)||(0,r.Vn)(n)||(0,r.Az)(n)||n===r.rt.OPEN_ANGLE||n===r.rt.CLOSE_ANGLE)break}return{valid:!0,nextIndex:i}}},{contentType:"email",eat:function(e,n,t){let o=n;for(;o<t;o+=1){const n=e[o].codePoint;if(!(0,r.Ab)(n)&&!(0,r.mE)(n)&&(n!==r.rt.DOT&&n!==r.rt.EXCLAMATION_MARK&&n!==r.rt.NUMBER_SIGN&&n!==r.rt.DOLLAR_SIGN&&n!==r.rt.PERCENT_SIGN&&n!==r.rt.AMPERSAND&&n!==r.rt.SINGLE_QUOTE&&n!==r.rt.ASTERISK&&n!==r.rt.PLUS_SIGN&&n!==r.rt.SLASH&&n!==r.rt.EQUALS_SIGN&&n!==r.rt.QUESTION_MARK&&n!==r.rt.CARET&&n!==r.rt.UNDERSCORE&&n!==r.rt.BACKTICK&&n!==r.rt.OPEN_BRACE&&n!==r.rt.VERTICAL_SLASH&&n!==r.rt.CLOSE_BRACE&&n!==r.rt.TILDE&&n!==r.rt.MINUS_SIGN))break}if(o===n||o+1>=t||e[o].codePoint!==r.rt.AT_SIGN||!(0,r.gQ)(e[o+1].codePoint))return{valid:!1,nextIndex:o+1};for(o=s(e,o+2,t);o+1<t;){let n=e[o].codePoint;if(n!==r.rt.DOT)break;if(n=e[o+1].codePoint,!(0,r.Ab)(n)&&!(0,r.mE)(n))break;o=s(e,o+2,t)}return{valid:!0,nextIndex:o}}}],a=function(e){return{findDelimiter:()=>(0,i.dD)(n),processSingleDelimiter:function(n){return[{nodeType:o.J,startIndex:n.startIndex,endIndex:n.endIndex,contentType:n.contentType,children:e.resolveFallbackTokens([],n.startIndex+1,n.endIndex-1)}]}};function n(n,t){const o=e.getNodePoints();for(let e=n;e<t;++e){if(o[e].codePoint!==r.rt.OPEN_ANGLE)continue;let n=t,i=null;for(const r of c){const s=r.eat(o,e+1,t);if(n=Math.min(n,s.nextIndex),s.valid){i=r.contentType,n=s.nextIndex;break}}if(null!=i){if(n<t&&o[n].codePoint===r.rt.CLOSE_ANGLE)return{type:"full",startIndex:e,endIndex:n+1,contentType:i};e=n-1}else e=Math.max(e,n-1)}return null}},d=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let i=(0,r.uX)(t,n.startIndex+1,n.endIndex-1);"email"===n.contentType&&(i="mailto:"+i);const s=e.formatUrl(i),l=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:o.J,position:e.calcPosition(n),url:s,children:l}:{type:o.J,url:s,children:l}}))}};class u extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-autolink",priority:e.priority??i.Ek.ATOMIC})}match=a;parse=d}},731:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(){return{isContainingBlock:!0,eatOpener:e,eatAndInterruptPreviousSibling:function(n,t){const r=e(n);return null==r?null:{token:r.token,nextIndex:r.nextIndex,remainingSibling:t}},eatContinuationText:function(e,n,t){const{nodePoints:i,startIndex:s,endIndex:l,firstNonWhitespaceIndex:c,countOfPrecedeSpaces:a}=e;if(a>=4||c>=l||i[c].codePoint!==o.rt.CLOSE_ANGLE)return t.nodeType===r.mD?{status:"opening",nextIndex:s}:{status:"notMatched"};return{status:"opening",nextIndex:c+1<l&&(0,o.QP)(i[c+1].codePoint)?c+2:c+1}}};function e(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,endIndex:s,firstNonWhitespaceIndex:l}=e;if(l>=s||n[l].codePoint!==o.rt.CLOSE_ANGLE)return null;let c=l+1;c<s&&(0,o.QP)(n[c].codePoint)&&(c+=1,c<s&&n[c].codePoint===o.JQ.SPACE&&(c+=1));return{token:{nodeType:r.mD,position:{start:(0,i._z)(n,t),end:(0,i.lM)(n,c-1)},children:[]},nextIndex:c}}},l=function(e){return{parse:n=>n.map((n=>{const t=e.parseBlockTokens(n.children);return e.shouldReservePosition?{type:r.mD,position:n.position,children:t}:{type:r.mD,children:t}}))}};class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-blockquote",priority:e.priority??i.Ek.CONTAINING_BLOCK})}match=s;parse=l}},1857:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>a});var r=t(4704),o=t(4633),i=t(8107);var s;!function(e){e.BACKSLASH="backslash",e.MORE_THAN_TWO_SPACES="more-than-two-spaces"}(s||(s={}));const l=function(e){return{findDelimiter:()=>(0,i.dD)(n),processSingleDelimiter:function(e){return[{nodeType:r.M3,startIndex:e.startIndex,endIndex:e.endIndex}]}};function n(n,t){const r=e.getNodePoints();for(let e=n+1;e<t;++e){if(r[e].codePoint!==o.JQ.LINE_END)continue;let t=null,i=null;switch(r[e-1].codePoint){case o.rt.BACKSLASH:{let l=e-2;for(;l>=n&&r[l].codePoint===o.rt.BACKSLASH;l-=1);e-l&1||(t=e-1,i=s.BACKSLASH);break}case o.rt.SPACE:{let l=e-2;for(;l>=n&&r[l].codePoint===o.rt.SPACE;l-=1);e-l>2&&(t=l+1,i=s.MORE_THAN_TWO_SPACES);break}}if(null!=t&&null!=i)return{type:"full",markerType:i,startIndex:t,endIndex:e}}return null}},c=function(e){return{parse:n=>n.map((n=>e.shouldReservePosition?{type:r.M3,position:e.calcPosition(n)}:{type:r.M3}))}};class a extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-break",priority:e.priority??i.Ek.SOFT_INLINE})}match=l;parse=c}},913:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>u});var r=t(4633),o=t(8107),i=t(4704);function s(e,n,t,i){let s=n;null==i&&(i={saturated:!1,nodePoints:[],hasOpenAngleBracket:!1,openParensCount:0});const l=(0,o.ts)(e,s,t);if(l>=t)return{nextIndex:-1,state:i};if(i.nodePoints.length<=0){s=l;const n=e[s];n.codePoint===r.rt.OPEN_ANGLE&&(s+=1,i.hasOpenAngleBracket=!0,i.nodePoints.push(n))}if(i.hasOpenAngleBracket){for(;s<t;++s){const n=e[s];switch(n.codePoint){case r.rt.BACKSLASH:s+1<t&&(i.nodePoints.push(n),i.nodePoints.push(e[s+1])),s+=1;break;case r.rt.OPEN_ANGLE:case r.JQ.LINE_END:return{nextIndex:-1,state:i};case r.rt.CLOSE_ANGLE:return i.saturated=!0,i.nodePoints.push(n),{nextIndex:s+1,state:i};default:i.nodePoints.push(n)}}return{nextIndex:s,state:i}}for(;s<t;++s){const n=e[s];switch(n.codePoint){case r.rt.BACKSLASH:s+1<t&&(i.nodePoints.push(n),i.nodePoints.push(e[s+1])),s+=1;break;case r.rt.OPEN_PARENTHESIS:i.openParensCount+=1,i.nodePoints.push(n);break;case r.rt.CLOSE_PARENTHESIS:if(i.openParensCount-=1,i.nodePoints.push(n),i.openParensCount<0)return{nextIndex:s,state:i};break;default:if((0,r.Vn)(n.codePoint)||(0,r.Az)(n.codePoint))return i.saturated=!0,{nextIndex:s,state:i};i.nodePoints.push(n)}}return i.saturated=!0,{nextIndex:s,state:i}}function l(e,n,t,i){let s=n;null==i&&(i={saturated:!1,nodePoints:[],hasNonWhitespaceCharacter:!1});const l=(0,o.ts)(e,s,t);if(l>=t)return{nextIndex:-1,state:i};if(i.nodePoints.length<=0){s=l;const n=e[s];if(n.codePoint!==r.rt.OPEN_BRACKET)return{nextIndex:-1,state:i};s+=1,i.nodePoints.push(n)}for(;s<t;++s){const n=e[s];switch(n.codePoint){case r.rt.BACKSLASH:i.hasNonWhitespaceCharacter=!0,s+1<t&&(i.nodePoints.push(n),i.nodePoints.push(e[s+1])),s+=1;break;case r.rt.OPEN_BRACKET:return{nextIndex:-1,state:i};case r.rt.CLOSE_BRACKET:return i.nodePoints.push(n),i.hasNonWhitespaceCharacter?(i.saturated=!0,{nextIndex:s+1,state:i}):{nextIndex:-1,state:i};default:(0,r.Vn)(n.codePoint)||(i.hasNonWhitespaceCharacter=!0),i.nodePoints.push(n)}}return{nextIndex:1,state:i}}function c(e,n,t,i){let s=n;null==i&&(i={saturated:!1,nodePoints:[],wrapSymbol:null});const l=(0,o.ts)(e,s,t);if(l>=t)return{nextIndex:-1,state:i};if(i.nodePoints.length<=0){s=l;const n=e[s];switch(n.codePoint){case r.rt.DOUBLE_QUOTE:case r.rt.SINGLE_QUOTE:case r.rt.OPEN_PARENTHESIS:i.wrapSymbol=n.codePoint,i.nodePoints.push(n),s+=1;break;default:return{nextIndex:-1,state:i}}}if(null==i.wrapSymbol)return{nextIndex:-1,state:i};switch(i.wrapSymbol){case r.rt.DOUBLE_QUOTE:case r.rt.SINGLE_QUOTE:for(;s<t;++s){const n=e[s];switch(n.codePoint){case r.rt.BACKSLASH:s+1<t&&(i.nodePoints.push(n),i.nodePoints.push(e[s+1])),s+=1;break;case i.wrapSymbol:return i.saturated=!0,i.nodePoints.push(n),{nextIndex:s+1,state:i};default:i.nodePoints.push(n)}}break;case r.rt.OPEN_PARENTHESIS:for(;s<t;++s){const n=e[s];switch(n.codePoint){case r.rt.BACKSLASH:s+1<t&&(i.nodePoints.push(n),i.nodePoints.push(e[s+1])),s+=1;break;case r.rt.OPEN_PARENTHESIS:return{nextIndex:-1,state:i};case r.rt.CLOSE_PARENTHESIS:if(s+1>=t||e[s+1].codePoint===r.JQ.LINE_END){i.nodePoints.push(n),i.saturated=!0;break}return{nextIndex:-1,state:i};default:i.nodePoints.push(n)}}}return{nextIndex:t,state:i}}const a=function(e){return{isContainingBlock:!1,eatOpener:function(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,endIndex:a,firstNonWhitespaceIndex:d}=e;if(d>=a)return null;let u=d;const{nextIndex:f,state:p}=l(n,u,a,null);if(f<0)return null;const h=n[t].line,x=()=>({nodeType:i.MZ,position:{start:(0,o._z)(n,t),end:(0,o.lM)(n,a-1)},label:p,destination:null,title:null,lineNoOfLabel:h,lineNoOfDestination:-1,lineNoOfTitle:-1,lines:[e]});if(!p.saturated){return{token:x(),nextIndex:a}}if(f<0||f+1>=a||n[f].codePoint!==r.rt.COLON)return null;if(u=(0,o.ts)(n,f+1,a),u>=a){return{token:x(),nextIndex:a}}const{nextIndex:I,state:k}=s(n,u,a,null);if(I<0)return null;if(!k.saturated&&I!==a)return null;if(u=(0,o.ts)(n,I,a),u>=a){const e=x();return e.destination=k,e.lineNoOfDestination=h,{token:e,nextIndex:a}}if(u===I)return null;const{nextIndex:m,state:g}=c(n,u,a,null);m>=0&&(u=m);if(u<a){if((0,o.ts)(n,u,a)<a)return null}const y=x();return y.destination=k,y.title=g,y.lineNoOfDestination=h,y.lineNoOfTitle=h,{token:y,nextIndex:a}},eatContinuationText:function(e,n){if(null!=n.title&&n.title.saturated)return{status:"notMatched"};const{nodePoints:t,startIndex:i,firstNonWhitespaceIndex:a,endIndex:d}=e,u=t[i].line;let f=a;if(!n.label.saturated){const{nextIndex:o,state:i}=l(t,f,d,n.label);if(o<0)return{status:"failedAndRollback",lines:n.lines};if(!i.saturated)return n.lines.push(e),{status:"opening",nextIndex:d};if(o+1>=d||t[o].codePoint!==r.rt.COLON)return{status:"failedAndRollback",lines:n.lines};f=o+1}if(null==n.destination){if(f=(0,o.ts)(t,f,d),f>=d)return{status:"failedAndRollback",lines:n.lines};const{nextIndex:r,state:i}=s(t,f,d,null);if(r<0||!i.saturated)return{status:"failedAndRollback",lines:n.lines};if(f=(0,o.ts)(t,r,d),f>=d)return n.destination=i,n.lines.push(e),{status:"opening",nextIndex:d};n.lineNoOfDestination=u,n.lineNoOfTitle=u}n.lineNoOfTitle<0&&(n.lineNoOfTitle=u);const{nextIndex:p,state:h}=c(t,f,d,n.title);if(n.title=h,p<0||h.nodePoints.length<=0||h.saturated&&(0,o.ts)(t,p,d)<d){if(n.lineNoOfDestination===n.lineNoOfTitle)return{status:"failedAndRollback",lines:n.lines};const e=n.lines[n.lines.length-1];return n.title=null,n.position.end=(0,o.lM)(e.nodePoints,e.endIndex-1),{status:"closingAndRollback",lines:n.lines.slice(n.lineNoOfTitle-1)}}n.lines.push(e);const x=n.title?.saturated;return{status:x?"closing":"opening",nextIndex:d}},onClose:function(n){let t;if(null==n.title||!n.title.saturated){if(!n.label.saturated)return{status:"failedAndRollback",lines:n.lines};if(null==n.destination||!n.destination.saturated)return{status:"failedAndRollback",lines:n.lines};if(null!=n.title&&!n.title.saturated){if(n.lineNoOfDestination===n.lineNoOfTitle)return{status:"failedAndRollback",lines:n.lines};const e=n.lines.splice(n.lineNoOfTitle-1),r=n.lines[n.lines.length-1];n.title=null,n.position.end=(0,o.lM)(r.nodePoints,r.endIndex-1),t={status:"closingAndRollback",lines:e}}}const i=n.label.nodePoints,s=(0,r.uX)(i,1,i.length-1),l=(0,o.n7)(s);return e.registerDefinitionIdentifier(l),n._label=s,n._identifier=l,t}}},d=function(e){return{parse:n=>n.map((n=>{const t=n._label,o=n._identifier,s=n.destination.nodePoints,l=s[0].codePoint===r.rt.OPEN_ANGLE?(0,r.HU)(s,1,s.length-1,!0):(0,r.HU)(s,0,s.length,!0),c=e.formatUrl(l),a=null==n.title?void 0:(0,r.HU)(n.title.nodePoints,1,n.title.nodePoints.length-1);return e.shouldReservePosition?{type:i.MZ,position:n.position,identifier:o,label:t,url:c,title:a}:{type:i.MZ,identifier:o,label:t,url:c,title:a}}))}};class u extends o.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-definition",priority:e.priority??o.Ek.ATOMIC})}match=a;parse=d}},2627:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(e){return{findDelimiter:()=>(0,i.dD)(n),processDelimiterPair:function(n,t,o){o=e.resolveInternalTokens(o,n.endIndex,t.startIndex);return{tokens:[{nodeType:r.Qg,startIndex:n.startIndex,endIndex:t.endIndex,children:o}]}}};function n(n,t){const r=e.getNodePoints();for(let e=n;e<t;++e){const s=r[e].codePoint;switch(s){case o.rt.BACKSLASH:e+=1;break;case o.rt.TILDE:{const l=e;if(e=(0,i.jD)(r,e+1,t,s)-1,e-l!=1)break;let c="both";const a=l===n?null:r[l-1];null!=a&&(0,o.Vn)(a.codePoint)&&(c="opener");const d=e+1===t?null:r[e+1];if(null!=d&&(0,o.Vn)(d.codePoint)){if("both"!==c)break;c="closer"}return{type:c,startIndex:l,endIndex:e+1}}}}return null}},l=function(e){return{parse:n=>n.map((n=>{const t=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:r.Qg,position:e.calcPosition(n),children:t}:{type:r.Qg,children:t}}))}};class c extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-delete",priority:e.priority??i.Ek.CONTAINING_INLINE})}match=s;parse=l}},3368:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(e){return{findDelimiter:()=>(0,i.dD)(n),isDelimiterPair:function(n,t){const r=e.getNodePoints();if(r[n.startIndex].codePoint!==r[t.startIndex].codePoint||("both"===n.type||"both"===t.type)&&(n.originalThickness+t.originalThickness)%3==0&&n.originalThickness%3!=0)return{paired:!1,opener:!0,closer:!0};return{paired:!0}},processDelimiterPair:function(n,t,o){let i=1;n.thickness>1&&t.thickness>1&&(i=2);o=e.resolveInternalTokens(o,n.endIndex,t.startIndex);const s={nodeType:1===i?r.zo:r.OX,startIndex:n.endIndex-i,endIndex:t.startIndex+i,thickness:i,children:o},l=n.thickness>i?{type:n.type,startIndex:n.startIndex,endIndex:n.endIndex-i,thickness:n.thickness-i,originalThickness:n.originalThickness}:void 0,c=t.thickness>i?{type:t.type,startIndex:t.startIndex+i,endIndex:t.endIndex,thickness:t.thickness-i,originalThickness:t.originalThickness}:void 0;return{tokens:[s],remainOpenerDelimiter:l,remainCloserDelimiter:c}}};function n(n,t){const r=e.getNodePoints(),s=e.getBlockStartIndex(),l=e.getBlockEndIndex(),c=(e,i)=>{if(i===l)return!1;if(i===t)return!0;const s=r[i];if((0,o.Eh)(s.codePoint))return!1;if(!(0,o.a3)(s.codePoint))return!0;if(e<=n)return!0;const c=r[e-1];return(0,o.Eh)(c.codePoint)||(0,o.a3)(c.codePoint)},a=(e,i)=>{if(e===s)return!1;if(e===n)return!0;const l=r[e-1];if((0,o.Eh)(l.codePoint))return!1;if(!(0,o.a3)(l.codePoint))return!0;if(i>=t)return!0;const c=r[i];return(0,o.Eh)(c.codePoint)||(0,o.a3)(c.codePoint)};for(let e=n;e<t;++e){const s=r[e].codePoint;switch(s){case o.rt.BACKSLASH:e+=1;break;case o.rt.ASTERISK:case o.rt.UNDERSCORE:{const l=e;e=(0,i.jD)(r,e+1,t,s)-1;const d=e+1,u=c(l,d),f=a(l,d);let p=u,h=f;if(s===o.rt.UNDERSCORE&&u&&f){l>n&&!(0,o.a3)(r[l-1].codePoint)&&(p=!1);const e=r[d];(0,o.a3)(e.codePoint)||(h=!1)}if(!p&&!h)break;const x=d-l;return{type:p?h?"both":"opener":"closer",startIndex:l,endIndex:d,thickness:x,originalThickness:x}}}}return null}},l=function(e){return{parse:n=>n.map((n=>{const t=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:n.nodeType,position:e.calcPosition(n),children:t}:{type:n.nodeType,children:t}}))}};class c extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-emphasis",priority:e.priority??i.Ek.CONTAINING_INLINE})}match=s;parse=l}},7627:(e,n,t)=>{"use strict";t.d(n,{AZ:()=>i,Ay:()=>s});var r=t(4633),o=t(8107);function i(e){const{nodeType:n,markers:t,markersRequired:i,checkInfoString:s}=this;return{isContainingBlock:!1,eatOpener:l,eatAndInterruptPreviousSibling:function(e,n){const t=l(e);return null==t?null:{token:t.token,nextIndex:t.nextIndex,remainingSibling:n}},eatContinuationText:function(e,n){const{nodePoints:t,startIndex:i,endIndex:s,firstNonWhitespaceIndex:l,countOfPrecedeSpaces:c}=e;if(c<4&&l<s){let e=(0,o.jD)(t,l,s,n.marker);if(e-l>=n.markerCount){for(;e<s;++e){const n=t[e].codePoint;if(!(0,r.QP)(n))break}if(e+1>=s)return{status:"closing",nextIndex:s}}}const a=Math.min(i+n.indent,l,s-1);return n.lines.push({nodePoints:t,startIndex:a,endIndex:s,firstNonWhitespaceIndex:l,countOfPrecedeSpaces:c}),{status:"opening",nextIndex:s}}};function l(e){if(e.countOfPrecedeSpaces>=4)return null;const{endIndex:l,firstNonWhitespaceIndex:c}=e;if(c+i-1>=l)return null;const{nodePoints:a,startIndex:d}=e,u=a[c].codePoint;if(t.indexOf(u)<0)return null;const f=(0,o.jD)(a,c+1,l,u),p=f-c;if(p<i)return null;const[h,x]=(0,r.R0)(a,f,l),I=a.slice(h,x);if(null!=s&&!s(I,u,p))return null;const k=l;return{token:{nodeType:n,position:{start:(0,o._z)(a,d),end:(0,o.lM)(a,k-1)},indent:c-d,marker:u,markerCount:p,lines:[],infoString:I},nextIndex:k}}}class s extends o.cu{nodeType;markers=[];markersRequired;checkInfoString;constructor(e){super({name:e.name,priority:e.priority??o.Ek.FENCED_BLOCK}),this.nodeType=e.nodeType,this.markers=e.markers,this.markersRequired=e.markersRequired,this.checkInfoString=e.checkInfoString}match=i}},3057:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>a});var r=t(7627),o=t(4704),i=t(4633),s=t(8107);const l=function(e){return{...r.AZ.call(this,e),isContainingBlock:!1}},c=function(e){return{parse:n=>n.map((n=>{const t=n.infoString;let r=0;const l=[];for(;r<t.length;++r){const e=t[r];if((0,i.Eh)(e.codePoint))break;l.push(e)}const c=(0,i.HU)(l,0,l.length,!0);r=(0,s.ts)(t,r,t.length);const a=(0,i.HU)(t,r,t.length,!0),d=(0,s.hb)(n.lines);let u=(0,i.uX)(d);/\n$/.test(u)||(u+="\n");return e.shouldReservePosition?{type:o.ag,position:n.position,lang:c.length>0?c:null,meta:a.length>0?a:null,value:u}:{type:o.ag,lang:c.length>0?c:null,meta:a.length>0?a:null,value:u}}))}};class a extends r.Ay{constructor(e={}){super({name:e.name??"@yozora/tokenizer-fenced-code",priority:e.priority??s.Ek.FENCED_BLOCK,nodeType:o.ag,markers:[i.rt.BACKTICK,i.rt.TILDE],markersRequired:3,checkInfoString:(e,n)=>{if(n===i.rt.BACKTICK)for(const t of e)if(t.codePoint===i.rt.BACKTICK)return!1;return!0}})}match=l;parse=c}},1154:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(){return{isContainingBlock:!1,eatOpener:e,eatAndInterruptPreviousSibling:function(n,t){const r=e(n);return null==r?null:{token:r.token,nextIndex:r.nextIndex,remainingSibling:t}}};function e(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,endIndex:s,firstNonWhitespaceIndex:l}=e;if(l>=s||n[l].codePoint!==o.rt.NUMBER_SIGN)return null;const c=(0,i.jD)(n,l+1,s,o.rt.NUMBER_SIGN),a=c-l;if(a>6)return null;if(c+1<s&&!(0,o.QP)(n[c].codePoint))return null;const d=s;return{token:{nodeType:r.JE,position:{start:(0,i._z)(n,t),end:(0,i.lM)(n,d-1)},depth:a,line:e},nextIndex:d,saturated:!0}}},l=function(e){return{parse:n=>n.map((n=>{const{nodePoints:t,firstNonWhitespaceIndex:s,endIndex:l}=n.line;let[c,a]=(0,o.R0)(t,s+n.depth,l),d=0;for(let e=a-1;e>=c;--e){if(t[e].codePoint!==o.rt.NUMBER_SIGN)break;d+=1}if(d>0){let e=0,n=a-1-d;for(;n>=c;--n){const r=t[n].codePoint;if(!(0,o.Vn)(r))break;e+=1}(e>0||n<c)&&(a-=d+e)}const u=[{nodePoints:t,startIndex:c,endIndex:a,firstNonWhitespaceIndex:c,countOfPrecedeSpaces:0}],f=(0,i.uZ)(u),p=e.processInlines(f);return e.shouldReservePosition?{type:r.JE,position:n.position,depth:n.depth,children:p}:{type:r.JE,depth:n.depth,children:p}}))}};class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-heading",priority:e.priority??i.Ek.ATOMIC})}match=s;parse=l}},3801:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>x,m_:()=>s,pF:()=>l});var r=t(4633),o=t(8107),i=t(4704);function s(e,n,t){let i=(0,o.ts)(e,n,t);if(i<=n||i>=t)return null;const s=i;let l=e[i].codePoint;if(!(0,r.Ab)(l)&&l!==r.rt.UNDERSCORE&&l!==r.rt.COLON)return null;for(i=s+1;i<t&&(l=e[i].codePoint,(0,r.Ab)(l)||(0,r.mE)(l)||l===r.rt.UNDERSCORE||l===r.rt.DOT||l===r.rt.COLON||l===r.rt.MINUS_SIGN);++i);const c=i,a={name:{startIndex:s,endIndex:c}};if(i=(0,o.ts)(e,c,t),i<t&&e[i].codePoint===r.rt.EQUALS_SIGN&&(i=(0,o.ts)(e,i+1,t),i<t)){switch(e[i].codePoint){case r.rt.DOUBLE_QUOTE:{const n=i+1;for(i=n;i<t&&(l=e[i].codePoint,l!==r.rt.DOUBLE_QUOTE);++i);const o=i;i<t&&e[i].codePoint===r.rt.DOUBLE_QUOTE&&(a.value={startIndex:n,endIndex:o},i+=1);break}case r.rt.SINGLE_QUOTE:{const n=i+1;for(i=n;i<t&&(l=e[i].codePoint,l!==r.rt.SINGLE_QUOTE);++i);const o=i;i<t&&e[i].codePoint===r.rt.SINGLE_QUOTE&&(a.value={startIndex:n,endIndex:o},i+=1);break}default:{const n=i;for(;i<t&&(l=e[i].codePoint,!(0,r.Vn)(l)&&l!==r.rt.DOUBLE_QUOTE&&l!==r.rt.SINGLE_QUOTE&&l!==r.rt.EQUALS_SIGN&&l!==r.rt.OPEN_ANGLE&&l!==r.rt.CLOSE_ANGLE&&l!==r.rt.BACKTICK);++i);const o=i;o>n&&(a.value={startIndex:n,endIndex:o});break}}if(null!=a.value)return{attribute:a,nextIndex:i}}return{attribute:a,nextIndex:c}}function l(e,n,t){if(n>=t||!(0,r.Ab)(e[n].codePoint))return null;let o=n;for(;o<t;++o){const n=e[o].codePoint;if(!(0,r.Ab)(n)&&!(0,r.mE)(n)&&n!==r.rt.MINUS_SIGN)return o}return o}const c=["pre","script","style"];const a=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];function d(e,n,t,o){if(!a.includes(o))return null;if(n>=t)return t;const i=e[n].codePoint;return(0,r.Vn)(i)||i===r.rt.CLOSE_ANGLE?n+1:i===r.rt.SLASH&&n+1<t&&e[n+1].codePoint===r.rt.CLOSE_ANGLE?n+2:null}const u=["pre","script","style"];function f(e,n,t,i,l){if(u.includes(i)||n>=t)return null;let c=n;if(l){for(;c<t;){const n=s(e,c,t);if(null==n)break;c=n.nextIndex}if(c=(0,o.ts)(e,c,t),c>=t)return null;e[c].codePoint===r.rt.SLASH&&(c+=1)}else c=(0,o.ts)(e,n,t);if(c>=t||e[c].codePoint!==r.rt.CLOSE_ANGLE)return null;for(c+=1;c<t;++c)if(!(0,r.Vn)(e[c].codePoint))return null;return t}const p=function(){return{isContainingBlock:!1,eatOpener:e,eatAndInterruptPreviousSibling:function(n,t){const r=e(n);if(null==r||7===r.token.condition)return null;const{token:o,nextIndex:i}=r;return{token:o,nextIndex:i,remainingSibling:t}},eatContinuationText:function(e,t){const{nodePoints:r,endIndex:o,firstNonWhitespaceIndex:i}=e,s=n(r,i,o,t.condition);return-1===s?{status:"notMatched"}:(t.lines.push(e),null!=s?{status:"closing",nextIndex:o}:{status:"opening",nextIndex:o})}};function e(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:t,startIndex:s,endIndex:a,firstNonWhitespaceIndex:u}=e;if(u>=a||t[u].codePoint!==r.rt.OPEN_ANGLE)return null;const p=function(e,n,t){let o=null;if(n>=t)return null;if(o=function(e,n,t){const o=n;return o+2<t&&e[o].codePoint===r.rt.EXCLAMATION_MARK&&e[o+1].codePoint===r.rt.MINUS_SIGN&&e[o+2].codePoint===r.rt.MINUS_SIGN?o+3:null}(e,n,t),null!=o)return{nextIndex:o,condition:2};if(o=function(e,n,t){const o=n;return o<t&&e[o].codePoint===r.rt.QUESTION_MARK?o+1:null}(e,n,t),null!=o)return{nextIndex:o,condition:3};if(o=function(e,n,t){const o=n;return o+1<t&&e[o].codePoint===r.rt.EXCLAMATION_MARK&&(0,r.OU)(e[o+1].codePoint)?o+2:null}(e,n,t),null!=o)return{nextIndex:o,condition:4};if(o=function(e,n,t){const o=n;return o+6<t&&e[o].codePoint===r.rt.EXCLAMATION_MARK&&e[o+1].codePoint===r.rt.OPEN_BRACKET&&e[o+2].codePoint===r.rt.UPPERCASE_C&&e[o+3].codePoint===r.rt.UPPERCASE_D&&e[o+4].codePoint===r.rt.UPPERCASE_A&&e[o+5].codePoint===r.rt.UPPERCASE_T&&e[o+6].codePoint===r.rt.UPPERCASE_A?o+7:null}(e,n,t),null!=o)return{nextIndex:o,condition:5};if(e[n].codePoint!==r.rt.SLASH){const i=n,s=l(e,i,t);if(null==s)return null;const a={startIndex:i,endIndex:s},u=(0,r.uX)(e,a.startIndex,a.endIndex).toLowerCase();return o=function(e,n,t,o){if(!c.includes(o))return null;if(n>=t)return t;const i=e[n].codePoint;return(0,r.Vn)(i)||i===r.rt.CLOSE_ANGLE?n+1:null}(e,a.endIndex,t,u),null!=o?{nextIndex:o,condition:1}:(o=d(e,a.endIndex,t,u),null!=o?{nextIndex:o,condition:6}:(o=f(e,a.endIndex,t,u,!0),null!=o?{nextIndex:o,condition:7}:null))}const i=n+1,s=l(e,i,t);if(null==s)return null;const a={startIndex:i,endIndex:s},u=(0,r.uX)(e,a.startIndex,a.endIndex),p=u.toLowerCase();return o=d(e,a.endIndex,t,p),null!=o?{nextIndex:o,condition:6}:(o=f(e,a.endIndex,t,p,!1),null!=o?{nextIndex:o,condition:7}:null)}(t,u+1,a);if(null==p)return null;const{condition:h}=p;let x=!1;if(6!==h&&7!==h){null!=n(t,p.nextIndex,a,h)&&(x=!0)}const I=a;return{token:{nodeType:i.K_,position:{start:(0,o._z)(t,s),end:(0,o.lM)(t,I-1)},condition:h,lines:[e]},nextIndex:I,saturated:x}}function n(e,n,t,i){switch(i){case 1:{const o=function(e,n,t){for(let o=n;o<t;++o)if(e[o].codePoint===r.rt.OPEN_ANGLE&&o+3<t&&e[o+1].codePoint===r.rt.SLASH){const n=o+2,i=l(e,n,t);if(null==i||i>=t||e[i].codePoint!==r.rt.CLOSE_ANGLE){o+=1;continue}const s=(0,r.uX)(e,n,i,!0).toLowerCase();if(c.includes(s))return i}return null}(e,n,t);return null==o?null:t}case 2:{const o=function(e,n,t){for(let o=n;o<t;++o)if(e[o].codePoint===r.rt.MINUS_SIGN&&o+2<t&&e[o+1].codePoint===r.rt.MINUS_SIGN&&e[o+2].codePoint===r.rt.CLOSE_ANGLE)return o+3;return null}(e,n,t);return null==o?null:t}case 3:{const o=function(e,n,t){for(let o=n;o<t;++o)if(e[o].codePoint===r.rt.QUESTION_MARK&&o+1<t&&e[o+1].codePoint===r.rt.CLOSE_ANGLE)return o+2;return null}(e,n,t);return null==o?null:t}case 4:{const o=function(e,n,t){for(let o=n;o<t;++o)if(e[o].codePoint===r.rt.CLOSE_ANGLE)return o+1;return null}(e,n,t);return null==o?null:t}case 5:{const o=function(e,n,t){for(let o=n;o<t;++o)if(e[o].codePoint===r.rt.CLOSE_BRACKET&&o+2<t&&e[o+1].codePoint===r.rt.CLOSE_BRACKET&&e[o+2].codePoint===r.rt.CLOSE_ANGLE)return o+3;return null}(e,n,t);return null==o?null:t}case 6:case 7:return(0,o.ts)(e,n,t)>=t?-1:null}}},h=function(e){return{parse:n=>n.map((n=>{const t=(0,o.hb)(n.lines);return e.shouldReservePosition?{type:"html",position:n.position,value:(0,r.uX)(t)}:{type:"html",value:(0,r.uX)(t)}}))}};class x extends o.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-html-block",priority:e.priority??o.Ek.ATOMIC})}match=p;parse=h}},3331:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>d});var r=t(4633),o=t(8107),i=t(3801),s=t(4704);const l=function(e){return{findDelimiter:()=>(0,o.dD)(n),processSingleDelimiter:function(e){return[{...e,nodeType:s.K_}]}};function n(n,t){const i=e.getNodePoints();for(let e=n;e<t&&(e=(0,o.ts)(i,e,t),!(e>=t));++e){switch(i[e].codePoint){case r.rt.BACKSLASH:e+=1;break;case r.rt.OPEN_ANGLE:{const n=c(i,e,t);if(null!=n)return n;break}}}return null}};function c(e,n,t){let s=null;return s=function(e,n,t){let s=n;if(s+2>=t)return null;const l=s+1,c=(0,i.pF)(e,l,t);if(null==c)return null;const a=[];for(s=c;s<t;){const n=(0,i.m_)(e,s,t);if(null==n)break;a.push(n.attribute),s=n.nextIndex}if(s=(0,o.ts)(e,s,t),s>=t)return null;let d=!1;return e[s].codePoint===r.rt.SLASH&&(s+=1,d=!0),s>=t||e[s].codePoint!==r.rt.CLOSE_ANGLE?null:{type:"full",startIndex:n,endIndex:s+1,htmlType:"open",tagName:{startIndex:l,endIndex:c},attributes:a,selfClosed:d}}(e,n,t),null!=s?s:(s=function(e,n,t){let s=n;if(s+3>=t||e[s+1].codePoint!==r.rt.SLASH)return null;const l=s+2,c=(0,i.pF)(e,l,t);return null==c?null:(s=(0,o.ts)(e,c,t),s>=t||e[s].codePoint!==r.rt.CLOSE_ANGLE?null:{type:"full",startIndex:n,endIndex:s+1,htmlType:"closing",tagName:{startIndex:l,endIndex:c}})}(e,n,t),null!=s?s:(s=function(e,n,t){let o=n;if(o+6>=t||e[o+1].codePoint!==r.rt.EXCLAMATION_MARK||e[o+2].codePoint!==r.rt.MINUS_SIGN||e[o+3].codePoint!==r.rt.MINUS_SIGN)return null;if(e[o+4].codePoint===r.rt.CLOSE_ANGLE)return null;if(e[o+4].codePoint===r.rt.MINUS_SIGN&&e[o+5].codePoint===r.rt.CLOSE_ANGLE)return null;for(o+=4;o<t;++o){if(e[o].codePoint!==r.rt.MINUS_SIGN)continue;let i=1;for(;o+i<t&&e[o+i].codePoint===r.rt.MINUS_SIGN;i+=1);if(!(i<2))return i>2||o+2>=t||e[o+2].codePoint!==r.rt.CLOSE_ANGLE?null:{type:"full",startIndex:n,endIndex:o+3,htmlType:"comment"}}return null}(e,n,t),null!=s?s:(s=function(e,n,t){let o=n;if(o+3>=t||e[o+1].codePoint!==r.rt.QUESTION_MARK)return null;for(o+=2;o<t;++o)if(e[o].codePoint===r.rt.QUESTION_MARK){if(o+1>=t)return null;if(e[o+1].codePoint===r.rt.CLOSE_ANGLE)return{type:"full",startIndex:n,endIndex:o+2,htmlType:"instruction"}}return null}(e,n,t),null!=s?s:(s=function(e,n,t){let o=n;if(o+4>=t||e[o+1].codePoint!==r.rt.EXCLAMATION_MARK)return null;const i=o+2;for(o=i;o<t;++o){const n=e[o];if(!(0,r.OU)(n.codePoint))break}if(o-i<=0||o+1>=t||!(0,r.Vn)(e[o].codePoint))return null;const s=o;for(o+=1;o<t;++o)if(e[o].codePoint===r.rt.CLOSE_ANGLE)return{type:"full",startIndex:n,endIndex:o+1,htmlType:"declaration",tagName:{startIndex:i,endIndex:s}};return null}(e,n,t),null!=s||(s=function(e,n,t){let o=n;if(o+11>=t||e[o+1].codePoint!==r.rt.EXCLAMATION_MARK||e[o+2].codePoint!==r.rt.OPEN_BRACKET||e[o+3].codePoint!==r.rt.UPPERCASE_C||e[o+4].codePoint!==r.rt.UPPERCASE_D||e[o+5].codePoint!==r.rt.UPPERCASE_A||e[o+6].codePoint!==r.rt.UPPERCASE_T||e[o+7].codePoint!==r.rt.UPPERCASE_A||e[o+8].codePoint!==r.rt.OPEN_BRACKET)return null;for(o+=9;o<t;++o)if(e[o].codePoint===r.rt.CLOSE_BRACKET){if(o+2>=t)return null;if(e[o+1].codePoint===r.rt.CLOSE_BRACKET&&e[o+2].codePoint===r.rt.CLOSE_ANGLE)return{type:"full",startIndex:n,endIndex:o+3,htmlType:"cdata"}}return null}(e,n,t)),s))))}const a=function(e){return{parse:n=>n.map((n=>{const{startIndex:t,endIndex:o}=n,i=e.getNodePoints(),l=(0,r.uX)(i,t,o);return e.shouldReservePosition?{type:s.K_,position:e.calcPosition(n),value:l}:{type:s.K_,value:l}}))}};class d extends o.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-html-inline",priority:e.priority??o.Ek.ATOMIC})}match=l;parse=a}},4775:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>d});var r=t(4704),o=t(4633),i=t(8107),s=t(9082),l=t(9611);const c=function(e){return{findDelimiter:()=>(0,i.dD)(n),isDelimiterPair:function(n,t,r){const o=e.getNodePoints();switch((0,s.I$)(n.endIndex,t.startIndex,r,o)){case-1:return{paired:!1,opener:!1,closer:!0};case 0:return{paired:!0};case 1:return{paired:!1,opener:!0,closer:!1}}},processDelimiterPair:function(n,t,o){const s=e.getNodePoints(),l=t.brackets[0];if(null!=l&&null!=l.identifier){if(e.hasDefinition(l.identifier)){return{tokens:[{nodeType:r.HM,startIndex:n.startIndex,endIndex:l.endIndex,referenceType:"full",label:l.label,identifier:l.identifier,children:e.resolveInternalTokens(o,n.endIndex,t.startIndex)}]}}return{tokens:o}}const{nextIndex:c,labelAndIdentifier:a}=(0,i.jN)(s,n.endIndex-1,t.startIndex+1);if(c===t.startIndex+1&&null!=a&&e.hasDefinition(a.identifier)){return{tokens:[{nodeType:r.HM,startIndex:n.startIndex,endIndex:t.endIndex,referenceType:null==l?"shortcut":"collapsed",label:a.label,identifier:a.identifier,children:e.resolveInternalTokens(o,n.endIndex,t.startIndex)}]}}return{tokens:o}}};function n(n,t){const r=e.getNodePoints();for(let e=n;e<t;++e){switch(r[e].codePoint){case o.rt.BACKSLASH:e+=1;break;case o.rt.EXCLAMATION_MARK:if(e+1>=t||r[e+1].codePoint!==o.rt.OPEN_BRACKET)break;return{type:"opener",startIndex:e,endIndex:e+2,brackets:[]};case o.rt.CLOSE_BRACKET:{const n={type:"closer",startIndex:e,endIndex:e+1,brackets:[]};if(e+1>=t||r[e+1].codePoint!==o.rt.OPEN_BRACKET)return n;const s=(0,i.jN)(r,e+1,t);return s.nextIndex<0?n:null==s.labelAndIdentifier?{type:"closer",startIndex:e,endIndex:s.nextIndex,brackets:[{startIndex:e+1,endIndex:s.nextIndex}]}:{type:"closer",startIndex:e,endIndex:s.nextIndex,brackets:[{startIndex:e+1,endIndex:s.nextIndex,label:s.labelAndIdentifier.label,identifier:s.labelAndIdentifier.identifier}]}}}}return null}},a=function(e){return{parse:n=>n.map((n=>{const{identifier:t,label:o,referenceType:i}=n,s=e.parseInlineTokens(n.children),c=(0,l.mU)(s);return e.shouldReservePosition?{type:r.HM,position:e.calcPosition(n),identifier:t,label:o,referenceType:i,alt:c}:{type:r.HM,identifier:t,label:o,referenceType:i,alt:c}}))}};class d extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-image-reference",priority:e.priority??i.Ek.LINKS})}match=c;parse=a}},9611:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>d,mU:()=>l});var r=t(4704),o=t(4633),i=t(8107),s=t(9082);function l(e){return e.map((e=>null!=e.value?e.value:null!=e.alt?e.alt:null!=e.children?l(e.children):"")).join("")}const c=function(e){return{findDelimiter:()=>(0,i.dD)(n),isDelimiterPair:function(n,t,r){const o=e.getNodePoints();switch((0,s.I$)(n.endIndex,t.startIndex,r,o)){case-1:return{paired:!1,opener:!1,closer:!0};case 0:return{paired:!0};case 1:return{paired:!1,opener:!0,closer:!1}}},processDelimiterPair:function(n,t,o){return{tokens:[{nodeType:r.yj,startIndex:n.startIndex,endIndex:t.endIndex,destinationContent:t.destinationContent,titleContent:t.titleContent,children:e.resolveInternalTokens(o,n.endIndex,t.startIndex)}]}}};function n(n,t){const r=e.getNodePoints(),l=e.getBlockEndIndex();for(let e=n;e<t;++e){switch(r[e].codePoint){case o.rt.BACKSLASH:e+=1;break;case o.rt.EXCLAMATION_MARK:if(e+1<t&&r[e+1].codePoint===o.rt.OPEN_BRACKET)return{type:"opener",startIndex:e,endIndex:e+2};break;case o.rt.CLOSE_BRACKET:{if(e+1>=t||r[e+1].codePoint!==o.rt.OPEN_PARENTHESIS)break;const n=(0,i.ts)(r,e+2,l),c=(0,s.tX)(r,n,l);if(c<0)break;const a=(0,i.ts)(r,c,l),d=(0,s.BE)(r,a,l);if(d<0)break;const u=e,f=(0,i.ts)(r,d,l)+1;if(f>l||r[f-1].codePoint!==o.rt.CLOSE_PARENTHESIS)break;return{type:"closer",startIndex:u,endIndex:f,destinationContent:n<c?{startIndex:n,endIndex:c}:void 0,titleContent:a<d?{startIndex:a,endIndex:d}:void 0}}}}return null}},a=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let i="";if(null!=n.destinationContent){let{startIndex:r,endIndex:s}=n.destinationContent;t[r].codePoint===o.rt.OPEN_ANGLE&&(r+=1,s-=1);const l=(0,o.HU)(t,r,s,!0);i=e.formatUrl(l)}const s=l(e.parseInlineTokens(n.children));let c;if(null!=n.titleContent){const{startIndex:e,endIndex:r}=n.titleContent;c=(0,o.HU)(t,e+1,r-1)}return e.shouldReservePosition?{type:r.yj,position:e.calcPosition(n),url:i,alt:s,title:c}:{type:r.yj,url:i,alt:s,title:c}}))}};class d extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-image",priority:e.priority??i.Ek.LINKS})}match=c;parse=a}},5065:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(){return{isContainingBlock:!1,eatOpener:function(e){if(e.countOfPrecedeSpaces<4)return null;const{nodePoints:n,startIndex:t,firstNonWhitespaceIndex:s,endIndex:l}=e;let c=t+4;if(n[t].codePoint===o.rt.SPACE&&n[t+3].codePoint===o.JQ.SPACE){let e=t+1;for(;e<s&&n[e].codePoint!==o.JQ.SPACE;++e);c=e+4}const a=l;return{token:{nodeType:r.ag,position:{start:(0,i._z)(n,t),end:(0,i.lM)(n,a-1)},lines:[{nodePoints:n,startIndex:c,endIndex:l,firstNonWhitespaceIndex:s,countOfPrecedeSpaces:e.countOfPrecedeSpaces-(c-t)}]},nextIndex:a}},eatContinuationText:function(e,n){const{nodePoints:t,startIndex:r,endIndex:o,firstNonWhitespaceIndex:i,countOfPrecedeSpaces:s}=e;if(s<4&&i<o)return{status:"notMatched"};const l=Math.min(o-1,r+4);return n.lines.push({nodePoints:t,startIndex:l,endIndex:o,firstNonWhitespaceIndex:i,countOfPrecedeSpaces:s-(l-r)}),{status:"opening",nextIndex:o}}}},l=function(e){return{parse:n=>n.map((n=>{const{lines:t}=n;let s=0,l=t.length;for(;s<l;++s){const e=t[s];if(e.firstNonWhitespaceIndex<e.endIndex)break}for(;s<l;--l){const e=t[l-1];if(e.firstNonWhitespaceIndex<e.endIndex)break}const c=(0,i.hb)(t,s,l);let a=(0,o.uX)(c);/\n$/.test(a)||(a+="\n");return e.shouldReservePosition?{type:r.ag,position:n.position,lang:null,meta:null,value:a}:{type:r.ag,lang:null,meta:null,value:a}}))}};class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-indented-code",priority:e.priority??i.Ek.ATOMIC})}match=s;parse=l}},8303:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(e){return{findDelimiter:function*(){const n=e.getNodePoints(),t=e.getBlockStartIndex(),r=e.getBlockEndIndex(),s=[];for(let e=t;e<r;++e){const t=n[e].codePoint;switch(t){case o.rt.BACKSLASH:if(e+=1,e<r&&n[e].codePoint===o.rt.BACKTICK){const t=(0,i.jD)(n,e+1,r,o.rt.BACKTICK);s.push({type:"closer",startIndex:e,endIndex:t}),t>e+1&&s.push({type:"opener",startIndex:e+1,endIndex:t}),e=t-1}break;case o.rt.BACKTICK:{const o=e,l=(0,i.jD)(n,e+1,r,t);s.push({type:"both",startIndex:o,endIndex:l}),e=l-1;break}}}let l=0,c=-1,a=null;for(;l<s.length;){const[e,n]=yield a;if(c===n&&(null==a||a.startIndex>=e))continue;c=n;let t=null,r=null;for(;l<s.length;++l){for(;l<s.length;++l){const n=s[l];if(n.startIndex>=e&&"closer"!==n.type)break}if(l+1>=s.length)return;t=s[l];const n=t.endIndex-t.startIndex;for(let e=l+1;e<s.length;++e){const t=s[e];if("opener"!==t.type&&t.endIndex-t.startIndex===n){r=t;break}}if(null!=r)break}if(null==r)return;a={type:"full",startIndex:t.startIndex,endIndex:r.endIndex,thickness:r.endIndex-r.startIndex}}},processSingleDelimiter:function(e){return[{nodeType:r.zt,startIndex:e.startIndex,endIndex:e.endIndex,thickness:e.thickness}]}}},l=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let i=n.startIndex+n.thickness,s=n.endIndex-n.thickness,l=!0;for(let e=i;e<s;++e)if(!(0,o.cW)(t[e].codePoint)){l=!1;break}if(!l&&i+2<s){const e=t[i].codePoint,n=t[s-1].codePoint;(0,o.cW)(e)&&(0,o.cW)(n)&&(i+=1,s-=1)}const c=(0,o.uX)(t,i,s).replace(/\n/g," ");return e.shouldReservePosition?{type:r.zt,position:e.calcPosition(n),value:c}:{type:r.zt,value:c}}))}};class c extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-inline-code",priority:e.priority??i.Ek.ATOMIC})}match=s;parse=l}},6758:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>a});var r=t(4704),o=t(4633),i=t(8107),s=t(9082);const l=function(e){return{findDelimiter:()=>(0,i.dD)(n),isDelimiterPair:function(n,t,r){if(null!=r.find(i.Hc))return{paired:!1,opener:!1,closer:!1};const o=e.getNodePoints();switch((0,s.I$)(n.endIndex,t.startIndex,r,o)){case-1:return{paired:!1,opener:!1,closer:!0};case 0:{const n=t.brackets[0];return null!=n&&null!=n.identifier&&e.hasDefinition(n.identifier)?{paired:!0}:{paired:!1,opener:!1,closer:!1}}case 1:return{paired:!1,opener:!0,closer:!1}}},processDelimiterPair:function(n,o,i){const s=t(n),[l,...c]=o.brackets;return s.push({nodeType:r.IO,startIndex:n.endIndex-1,endIndex:l.endIndex,referenceType:"full",label:l.label,identifier:l.identifier,children:e.resolveInternalTokens(i,n.endIndex,o.startIndex)}),{tokens:s,remainCloserDelimiter:{type:"both"===o.type?"opener":"full",startIndex:l.endIndex,endIndex:o.endIndex,brackets:c}}},processSingleDelimiter:t};function n(n,t){const r=e.getNodePoints();for(let e=n;e<t;++e){switch(r[e].codePoint){case o.rt.BACKSLASH:e+=1;break;case o.rt.OPEN_BRACKET:{const n=[],s={type:"opener",startIndex:e,endIndex:e+1,brackets:n},l=(0,i.jN)(r,e,t);if(l.nextIndex<0)return s;if(null==l.labelAndIdentifier){e=l.nextIndex-1;break}for(n.push({startIndex:e,endIndex:l.nextIndex,label:l.labelAndIdentifier.label,identifier:l.labelAndIdentifier.identifier}),e=l.nextIndex;e<t&&r[e].codePoint===o.rt.OPEN_BRACKET;){const{labelAndIdentifier:o,nextIndex:l}=(0,i.jN)(r,e,t);if(-1===l)return s.type="opener",s.endIndex=e+1,s;const c={startIndex:e,endIndex:l};if(s.type="full",s.endIndex=l,n.push(c),null==o)break;c.label=o.label,c.identifier=o.identifier,e=l}return s}case o.rt.CLOSE_BRACKET:{if(e+1>=t||r[e+1].codePoint!==o.rt.OPEN_BRACKET)break;const n=(0,i.jN)(r,e+1,t);if(-1===n.nextIndex)return{type:"opener",startIndex:e+1,endIndex:e+2,brackets:[]};if(null==n.labelAndIdentifier){e=n.nextIndex-1;break}const s=[{startIndex:e+1,endIndex:n.nextIndex,label:n.labelAndIdentifier.label,identifier:n.labelAndIdentifier.identifier}],l={type:"closer",startIndex:e,endIndex:n.nextIndex,brackets:s};for(e=n.nextIndex;e<t&&r[e].codePoint===o.rt.OPEN_BRACKET;){const{labelAndIdentifier:n,nextIndex:o}=(0,i.jN)(r,e,t);if(-1===o)return l.type="both",l.endIndex=e+1,l;const c={startIndex:e,endIndex:o};if(l.type="full",l.endIndex=o,s.push(c),null==n)break;c.label=n.label,c.identifier=n.identifier,e=o}return l}}}return null}function t(n){const t=[],o=n.brackets;if(o.length<=0)return t;let i=0,s=-1;for(;i<o.length;++i){let n=null;for(;i<o.length&&(n=o[i],null==n.identifier||!e.hasDefinition(n.identifier));++i);if(null==n||i>=o.length)break;if(s+1<i){const l=o[i-1];t.push({nodeType:r.IO,startIndex:l.startIndex,endIndex:n.endIndex,referenceType:"full",label:n.label,identifier:n.identifier,children:e.resolveInternalTokens([],l.startIndex+1,l.endIndex-1)}),s=i}else{if(i+1===o.length){t.push({nodeType:r.IO,startIndex:n.startIndex,endIndex:n.endIndex,referenceType:"shortcut",label:n.label,identifier:n.identifier,children:e.resolveInternalTokens([],n.startIndex+1,n.endIndex-1)});break}if(i+1<o.length&&null==o[i+1].identifier){const s=o[i+1];t.push({nodeType:r.IO,startIndex:n.startIndex,endIndex:s.endIndex,referenceType:"collapsed",label:n.label,identifier:n.identifier,children:e.resolveInternalTokens([],n.startIndex+1,n.endIndex-1)});break}}}return t}},c=function(e){return{parse:n=>n.map((n=>{const{identifier:t,label:o,referenceType:i}=n,s=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:r.IO,position:e.calcPosition(n),identifier:t,label:o,referenceType:i,children:s}:{type:r.IO,identifier:t,label:o,referenceType:i,children:s}}))}};class a extends i.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-link-reference",priority:e.priority??i.Ek.LINKS})}match=l;parse=c}},9082:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>u,BE:()=>c,I$:()=>s,tX:()=>l});var r=t(4633),o=t(8107),i=t(4704);const s=(e,n,t,o)=>{let i=e,s=0;const l=()=>{switch(o[i].codePoint){case r.rt.BACKSLASH:i+=1;break;case r.rt.OPEN_BRACKET:s+=1;break;case r.rt.CLOSE_BRACKET:s-=1}};for(const r of t)if(!(r.startIndex<e)){if(r.endIndex>n)break;for(;i<r.startIndex;++i)if(l(),s<0)return-1;i=r.endIndex}for(;i<n;++i)if(l(),s<0)return-1;return s>0?1:0};function l(e,n,t){if(n>=t)return-1;let o=n;if(e[o].codePoint===r.rt.OPEN_ANGLE){for(o+=1;o<t;++o){switch(e[o].codePoint){case r.rt.BACKSLASH:o+=1;break;case r.rt.OPEN_ANGLE:case r.JQ.LINE_END:return-1;case r.rt.CLOSE_ANGLE:return o+1}}return-1}{let n=0;for(;o<t;++o){const t=e[o].codePoint;switch(t){case r.rt.BACKSLASH:o+=1;break;case r.rt.OPEN_PARENTHESIS:n+=1;break;case r.rt.CLOSE_PARENTHESIS:if(n-=1,n<0)return o;break;default:if((0,r.Vn)(t)||(0,r.Az)(t))return o}}return 0===n?o:-1}}function c(e,n,t){if(n>=t)return-1;let i=n;const s=e[i].codePoint;switch(s){case r.rt.DOUBLE_QUOTE:case r.rt.SINGLE_QUOTE:for(i+=1;i<t;++i){const t=e[i];switch(t.codePoint){case r.rt.BACKSLASH:i+=1;break;case s:return i+1;case r.JQ.LINE_END:if(e[(0,o.qQ)(e,n,i)].line>t.line+1)return-1;break}}break;case r.rt.OPEN_PARENTHESIS:{let s=1;for(i+=1;i<t;++i){const t=e[i];switch(t.codePoint){case r.rt.BACKSLASH:i+=1;break;case r.JQ.LINE_END:if(e[(0,o.qQ)(e,n,i)].line>t.line+1)return-1;break;case r.rt.OPEN_PARENTHESIS:s+=1;break;case r.rt.CLOSE_PARENTHESIS:if(s-=1,0===s)return i+1}}break}case r.rt.CLOSE_PARENTHESIS:return i;default:return-1}return-1}const a=function(e){return{findDelimiter:()=>(0,o.dD)(n),isDelimiterPair:function(n,t,r){const i=e.getNodePoints();if(null!=r.find(o.Hc))return{paired:!1,opener:!1,closer:!1};switch(s(n.endIndex,t.startIndex,r,i)){case-1:return{paired:!1,opener:!1,closer:!0};case 0:return{paired:!0};case 1:return{paired:!1,opener:!0,closer:!1}}},processDelimiterPair:function(n,t,r){const o=e.resolveInternalTokens(r,n.endIndex,t.startIndex);return{tokens:[{nodeType:i.J,startIndex:n.startIndex,endIndex:t.endIndex,destinationContent:t.destinationContent,titleContent:t.titleContent,children:o}]}}};function n(n,t){const i=e.getNodePoints(),s=e.getBlockEndIndex();for(let e=n;e<t;++e){switch(i[e].codePoint){case r.rt.BACKSLASH:e+=1;break;case r.rt.OPEN_BRACKET:return{type:"opener",startIndex:e,endIndex:e+1};case r.rt.CLOSE_BRACKET:{if(e+1>=t||i[e+1].codePoint!==r.rt.OPEN_PARENTHESIS)break;const n=(0,o.ts)(i,e+2,s),a=l(i,n,s);if(a<0)break;const d=(0,o.ts)(i,a,s),u=c(i,d,s);if(u<0)break;const f=e,p=(0,o.ts)(i,u,s)+1;if(p>s||i[p-1].codePoint!==r.rt.CLOSE_PARENTHESIS)break;return{type:"closer",startIndex:f,endIndex:p,destinationContent:n<a?{startIndex:n,endIndex:a}:void 0,titleContent:d<u?{startIndex:d,endIndex:u}:void 0}}}}return null}},d=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let o,s="";if(null!=n.destinationContent){let{startIndex:o,endIndex:i}=n.destinationContent;t[o].codePoint===r.rt.OPEN_ANGLE&&(o+=1,i-=1);const l=(0,r.HU)(t,o,i,!0);s=e.formatUrl(l)}if(null!=n.titleContent){const{startIndex:e,endIndex:i}=n.titleContent;o=(0,r.HU)(t,e+1,i-1)}const l=e.parseInlineTokens(n.children);return e.shouldReservePosition?{type:i.J,position:e.calcPosition(n),url:s,title:o,children:l}:{type:i.J,url:s,title:o,children:l}}))}};class u extends o.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-link",priority:e.priority??o.Ek.LINKS})}match=a;parse=d}},6910:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>a});var r=t(4704),o=t(8107),i=t(4633);const s=function(){const{emptyItemCouldNotInterruptedTypes:e,enableTaskListItem:n}=this;return{isContainingBlock:!0,eatOpener:t,eatAndInterruptPreviousSibling:function(n,r){const o=t(n);if(null==o)return null;const{token:i,nextIndex:s}=o;if(e.includes(r.nodeType)){if(i.indent===n.endIndex-n.startIndex)return null;if(i.ordered&&1!==i.order)return null}return{token:i,nextIndex:s,remainingSibling:r}},eatContinuationText:function(e,n){const{startIndex:t,endIndex:r,firstNonWhitespaceIndex:o,countOfPrecedeSpaces:i}=e;if(o<r&&i<n.indent)return{status:"notMatched"};if(o>=r){if(n.countOfTopBlankLine>=0&&(n.countOfTopBlankLine+=1,n.countOfTopBlankLine>1))return{status:"notMatched"}}else n.countOfTopBlankLine=-1;return{status:"opening",nextIndex:Math.min(t+n.indent,r-1)}}};function t(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:t,startIndex:s,endIndex:l,firstNonWhitespaceIndex:c}=e;if(c>=l)return null;let a,d,u=!1,f=null,p=c,h=t[p].codePoint;if(p+1<l){const e=h;if((0,i.mE)(e)){a="1";let n=e-i.rt.DIGIT0;for(p+=1;p<l&&(h=t[p].codePoint,(0,i.mE)(h));++p)n=10*n+h-i.rt.DIGIT0;d=n,a="1"}else(0,i.zD)(e)?(p+=1,h=t[p].codePoint,d=e-i.rt.LOWERCASE_A+1,a="a"):(0,i.OU)(e)&&(p+=1,h=t[p].codePoint,d=e-i.rt.UPPERCASE_A+1,a="A");p>c&&p-c<=9&&(h===i.rt.DOT||h===i.rt.CLOSE_PARENTHESIS)&&(p+=1,u=!0,f=h)}if(u||h!==i.rt.PLUS_SIGN&&h!==i.rt.MINUS_SIGN&&h!==i.rt.ASTERISK||(p+=1,f=h),null==f)return null;let x=0,I=p;for(I<l&&(h=t[I].codePoint,h===i.JQ.SPACE&&(I+=1));I<l&&(h=t[I].codePoint,(0,i.QP)(h));++I)x+=1;if(x>4&&(I-=x-1,x=1),0===x&&I<l&&h!==i.JQ.LINE_END)return null;const k=h===i.JQ.LINE_END?1:-1;h===i.JQ.LINE_END&&(I-=x-1,x=1);const m=p-s+x;let g=null;n&&({status:g,nextIndex:I}=function(e,n,t){let o,s=n;for(;s<t;++s){const n=e[s].codePoint;if(!(0,i.QP)(n))break}if(s+3>=t||e[s].codePoint!==i.rt.OPEN_BRACKET||e[s+2].codePoint!==i.rt.CLOSE_BRACKET||!(0,i.Vn)(e[s+3].codePoint))return{status:null,nextIndex:n};switch(e[s+1].codePoint){case i.rt.SPACE:o=r.e1.TODO;break;case i.rt.MINUS_SIGN:o=r.e1.DOING;break;case i.rt.LOWERCASE_X:case i.rt.UPPERCASE_X:o=r.e1.DONE;break;default:return{status:null,nextIndex:n}}return{status:o,nextIndex:s+4}}(t,I,l));const y={nodeType:r.pc,position:{start:(0,o._z)(t,s),end:(0,o.lM)(t,I-1)},ordered:u,marker:f,orderType:u?a:void 0,order:u?d:void 0,indent:m,countOfTopBlankLine:k,children:[]};return null!=g&&(y.status=g),{token:y,nextIndex:I}}};const l=function(e){return{parse:n=>{const t=[];let r=[];for(let i=0;i<n.length;++i){const o=n[i];if(r.length<=0||r[0].ordered!==o.ordered||r[0].orderType!==o.orderType||r[0].marker!==o.marker){const n=c(r,e);n&&t.push(n),r=[o]}else r.push(o)}const o=c(r,e);return o&&t.push(o),t}}},c=(e,n)=>{if(e.length<=0)return null;let t=e.some((e=>{if(null==e.children||e.children.length<=1)return!1;let n=e.children[0].position;for(let t=1;t<e.children.length;++t){const r=e.children[t].position;if(n.end.line+1<r.start.line)return!0;n=r}return!1}));if(!t&&e.length>1){let n=e[0];for(let r=1;r<e.length;++r){const o=e[r];if(n.position.end.line+1<o.position.start.line){t=!0;break}n=o}}const o=e.map((e=>{const o=n.parseBlockTokens(e.children),i=t?o:o.map((e=>e.type===r.FU?e.children:e)).flat();return n.shouldReservePosition?{type:r.wC,position:e.position,status:e.status,children:i}:{type:r.wC,status:e.status,children:i}}));return n.shouldReservePosition?{type:r.pc,position:{start:{...e[0].position.start},end:{...e[e.length-1].position.end}},ordered:e[0].ordered,orderType:e[0].orderType,start:e[0].order,marker:e[0].marker,spread:t,children:o}:{type:r.pc,ordered:e[0].ordered,orderType:e[0].orderType,start:e[0].order,marker:e[0].marker,spread:t,children:o}};class a extends o.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-list",priority:e.priority??o.Ek.CONTAINING_BLOCK}),this.enableTaskListItem=e.enableTaskListItem??!1,this.emptyItemCouldNotInterruptedTypes=e.emptyItemCouldNotInterruptedTypes??[r.FU]}enableTaskListItem;emptyItemCouldNotInterruptedTypes;match=s;parse=l}},1666:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>l});var r=t(4704),o=t(8107);const i=function(){return{isContainingBlock:!1,eatOpener:function(e){const{endIndex:n,firstNonWhitespaceIndex:t}=e;if(t>=n)return null;const i=[e],s=(0,o.vl)(i);return{token:{nodeType:r.FU,position:s,lines:i},nextIndex:n}},eatContinuationText:e,eatLazyContinuationText:function(n,t){return e(n,t)}};function e(e,n){const{endIndex:t,firstNonWhitespaceIndex:r}=e;return r>=t?{status:"notMatched"}:(n.lines.push(e),{status:"opening",nextIndex:t})}},s=function(e){return{parse:n=>{const t=[];for(const i of n){const n=(0,o.uZ)(i.lines),s=e.processInlines(n);if(s.length<=0)continue;const l=e.shouldReservePosition?{type:r.FU,position:i.position,children:s}:{type:r.FU,children:s};t.push(l)}return t}}};class l extends o.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-paragraph",priority:e.priority??o.Ek.FALLBACK})}match=i;parse=s;extractPhrasingContentLines(e){return e.lines}buildBlockToken(e){const n=(0,o.um)(e);if(n.length<=0)return null;const t=(0,o.vl)(n);return{nodeType:r.FU,lines:n,position:t}}}},9270:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(e){return{isContainingBlock:!1,eatOpener:function(){return null},eatAndInterruptPreviousSibling:function(n,t){const{nodePoints:s,endIndex:l,firstNonWhitespaceIndex:c,countOfPrecedeSpaces:a}=n;if(a>=4||c>=l)return null;let d=null,u=!1;for(let e=c;e<l;++e){const n=s[e];if(n.codePoint===o.JQ.LINE_END)break;if((0,o.Eh)(n.codePoint))u=!0;else{if(u||n.codePoint!==o.rt.EQUALS_SIGN&&n.codePoint!==o.rt.MINUS_SIGN||null!=d&&d!==n.codePoint){d=null;break}d=n.codePoint}}if(null==d)return null;const f=e.extractPhrasingLines(t);if(null==f)return null;const p=l;return{token:{nodeType:r.JE,position:{start:(0,i._z)(f[0].nodePoints,f[0].startIndex),end:(0,i.lM)(s,p-1)},marker:d,lines:f},nextIndex:p,saturated:!0,remainingSibling:null}}}},l=function(e){return{parse:n=>n.map((n=>{let t=1;switch(n.marker){case o.rt.EQUALS_SIGN:t=1;break;case o.rt.MINUS_SIGN:t=2}const s=(0,i.uZ)(n.lines),l=e.processInlines(s);return e.shouldReservePosition?{type:r.JE,position:n.position,depth:t,children:l}:{type:r.JE,depth:t,children:l}}))}};class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-setext-heading",priority:e.priority??i.Ek.ATOMIC})}match=s;parse=l}},7544:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(e){return{isContainingBlock:!1,eatOpener:function(){return null},eatAndInterruptPreviousSibling:function(t,s){if(t.countOfPrecedeSpaces>=4)return null;const{nodePoints:l,endIndex:c,firstNonWhitespaceIndex:a}=t;if(a>=c)return null;const d=[];let u=l[a].codePoint,f=u===o.rt.VERTICAL_SLASH?a+1:a;for(;f<c;){for(;f<c&&(u=l[f].codePoint,(0,o.Vn)(u));++f);if(f>=c)break;let e=!1;u===o.rt.COLON&&(e=!0,f+=1);let n=0;for(;f<c&&(u=l[f].codePoint,u===o.rt.MINUS_SIGN);++f)n+=1;if(n<=0)return null;let t=!1;for(f<c&&u===o.rt.COLON&&(t=!0,f+=1);f<c;++f)if(u=l[f].codePoint,!(0,o.Vn)(u)){if(u===o.rt.VERTICAL_SLASH){f+=1;break}return null}let r=null;e&&t?r="center":e?r="left":t&&(r="right");const i={align:r};d.push(i)}if(d.length<=0)return null;const p=e.extractPhrasingLines(s);if(null==p||p.length<1)return null;let h=0,x=!1;const I=p[p.length-1];for(let e=I.startIndex;e<I.endIndex;++e){const n=l[e];(0,o.Vn)(n.codePoint)||(n.codePoint!==o.rt.VERTICAL_SLASH?(x=!0,n.codePoint===o.rt.BACKSLASH&&(e+=1)):((x||h>0)&&(h+=1),x=!1))}x&&d.length>1&&(h+=1);if(h!==d.length)return null;const k=n(I,d),m=c;return{token:{nodeType:r.lp,position:{start:(0,i._z)(I.nodePoints,I.startIndex),end:(0,i.lM)(l,m-1)},columns:d,rows:[k]},nextIndex:m,remainingSibling:e.rollbackPhrasingLines(p.slice(0,p.length-1),s)}},eatLazyContinuationText:function(e,t){if(e.firstNonWhitespaceIndex>=e.endIndex)return{status:"notMatched"};const r=n(e,t.columns);return null==r?{status:"notMatched"}:(t.rows.push(r),{status:"opening",nextIndex:e.endIndex})}};function n(e,n){const{nodePoints:t,startIndex:s,endIndex:l,firstNonWhitespaceIndex:c}=e;let a=t[c],d=a.codePoint===o.rt.VERTICAL_SLASH?c+1:c;const u=[];for(;d<l;d+=1){for(;d<l&&(a=t[d],(0,o.Vn)(a.codePoint));++d);const e=d<l?(0,i._z)(t,d):(0,i.lM)(t,l-1),s=d,c=d;for(;d<l;++d)if(a=t[d],a.codePoint!==o.rt.BACKSLASH){if(a.codePoint===o.rt.VERTICAL_SLASH)break}else d+=1;let f=d;for(;f>s;--f){const e=t[f-1];if(!(0,o.Vn)(e.codePoint))break}const p=(0,i.lM)(t,d-1),h=c>=f?[]:[{nodePoints:t,startIndex:s,endIndex:f,firstNonWhitespaceIndex:c,countOfPrecedeSpaces:c-s}],x={nodeType:r.Jf,position:{start:e,end:p},lines:h};if(u.push(x),u.length>=n.length)break}const f=(0,i._z)(t,s),p=(0,i.lM)(t,l-1);for(let o=u.length;o<n.length;++o){const e={nodeType:r.Jf,position:{start:{...p},end:{...p}},lines:[]};u.push(e)}return{nodeType:r.fF,position:{start:f,end:p},cells:u}}},l=e=>({parse:n=>n.map((n=>{const t=n.rows.map((n=>{const t=n.cells.map((n=>{const t=[];{const e=(0,i.uZ)(n.lines);for(let n=0,r=e.length;n<r;++n){const i=e[n];if(i.codePoint===o.rt.BACKSLASH&&n+1<r){const r=e[n+1];r.codePoint!==o.rt.VERTICAL_SLASH&&t.push(i),t.push(r),n+=1}else t.push(i)}}const s=e.processInlines(t);return e.shouldReservePosition?{type:r.Jf,position:n.position,children:s}:{type:r.Jf,children:s}}));return e.shouldReservePosition?{type:r.fF,position:n.position,children:t}:{type:r.fF,children:t}}));return e.shouldReservePosition?{type:r.lp,position:n.position,columns:n.columns,children:t}:{type:r.lp,columns:n.columns,children:t}}))});class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-table",priority:e.priority??i.Ek.INTERRUPTABLE_BLOCK})}match=s;parse=l}},6383:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>d});var r=t(4704),o=t(8107),i=t(4633);const s=function(){return{findDelimiter:()=>(0,o.dD)(((e,n)=>({type:"full",startIndex:e,endIndex:n}))),processSingleDelimiter:e=>[{nodeType:r.M2,startIndex:e.startIndex,endIndex:e.endIndex}]}},l=function(e){return{parse:n=>n.map((n=>{const t=e.getNodePoints();let o=(0,i.HU)(t,n.startIndex,n.endIndex);o=a(o);return e.shouldReservePosition?{type:r.M2,position:e.calcPosition(n),value:o}:{type:r.M2,value:o}}))}},c=/[^\S\n]*\n[^\S\n]*/g,a=e=>e.replace(c,"\n");class d extends o.EW{constructor(e={}){super({name:e.name??"@yozora/tokenizer-text",priority:e.priority??o.Ek.FALLBACK})}match=s;parse=l;findAndHandleDelimiter(e,n){return{nodeType:r.M2,startIndex:e,endIndex:n}}}},5545:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>c});var r=t(4704),o=t(4633),i=t(8107);const s=function(){return{isContainingBlock:!1,eatOpener:e,eatAndInterruptPreviousSibling:function(n,t){const r=e(n);return null==r?null:{token:r.token,nextIndex:r.nextIndex,remainingSibling:t}}};function e(e){if(e.countOfPrecedeSpaces>=4)return null;const{nodePoints:n,startIndex:t,endIndex:s,firstNonWhitespaceIndex:l}=e;if(l+2>=s)return null;let c,a=0,d=!0,u=!1;for(let r=l;r<s;++r){const e=n[r];if((0,o.Eh)(e.codePoint))u=!0;else switch(u&&(d=!1),e.codePoint){case o.rt.MINUS_SIGN:case o.rt.UNDERSCORE:case o.rt.ASTERISK:if(a<=0){c=e.codePoint,a+=1;break}if(e.codePoint!==c)return null;a+=1;break;default:return null}}if(a<3)return null;return{token:{nodeType:r.t0,position:{start:(0,i._z)(n,t),end:(0,i.lM)(n,s-1)},marker:c,continuous:d},nextIndex:s,saturated:!0}}},l=function(e){return{parse:n=>n.map((n=>e.shouldReservePosition?{type:r.t0,position:n.position}:{type:r.t0}))}};class c extends i.cu{constructor(e={}){super({name:e.name??"@yozora/tokenizer-thematic-break",priority:e.priority??i.Ek.ATOMIC})}match=s;parse=l}}}]);