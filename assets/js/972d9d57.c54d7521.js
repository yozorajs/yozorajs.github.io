"use strict";(self.webpackChunk_yozora_doc=self.webpackChunk_yozora_doc||[]).push([[7552],{8940:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var s=r(7624),t=r(4552),a=r(6212),i=r(2440);const o={id:"introduction",title:"Yozora",sidebar_label:"Introduction",slug:"/"},l=void 0,c={id:"introduction",title:"Yozora",description:"<img",source:"@site/docs/introduction.mdx",sourceDirName:".",slug:"/",permalink:"/docs/next/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"guanghechen",lastUpdatedAt:1706961465,formattedLastUpdatedAt:"Feb 3, 2024",frontMatter:{id:"introduction",title:"Yozora",sidebar_label:"Introduction",slug:"/"},sidebar:"Docs",next:{title:"\u4ecb\u7ecd",permalink:"/docs/next/introduction-zh"}},h={},d=[{value:"<g-emoji>\ud83c\udf89</g-emoji> Why named &quot;yozora&quot; ?",id:"-why-named-yozora-",level:2},{value:"<g-emoji>\u2728</g-emoji> Features",id:"-features",level:2},{value:"<g-emoji>\ud83d\udcdd</g-emoji> Usage",id:"-usage",level:2},{value:"<g-emoji>\ud83d\udca1</g-emoji> FAQ",id:"-faq",level:2},{value:"<g-emoji>\ud83d\udcac</g-emoji> Contact",id:"-contact",level:2},{value:"<g-emoji>\ud83d\udcc4</g-emoji> License",id:"-license",level:2},{value:"Related",id:"related",level:2}];function p(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.M)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h1",{align:"center",children:(0,s.jsx)("div",{align:"center",children:(0,s.jsx)("img",{alt:"logo.png",src:"/img/logo.png",height:"300px"})})}),(0,s.jsxs)("div",{align:"center",children:[(0,s.jsx)("a",{href:"#license",children:(0,s.jsx)("img",{alt:"License",src:"https://img.shields.io/github/license/guanghechen/yozora"})}),(0,s.jsx)("a",{href:"https://github.com/yozorajs/yozora/tags",children:(0,s.jsx)("img",{alt:"Package Version",src:"https://img.shields.io/github/v/tag/guanghechen/yozora?include_prereleases&sort=semver"})}),(0,s.jsx)("a",{href:"https://github.com/yozorajs/yozora/search?l=typescript",children:(0,s.jsx)("img",{alt:"Github Top Language",src:"https://img.shields.io/github/languages/top/guanghechen/yozora"})}),(0,s.jsx)("a",{href:"https://github.com/nodejs/node",children:(0,s.jsx)("img",{alt:"Node.js Version",src:"https://img.shields.io/node/v/@yozora/core-tokenizer"})}),(0,s.jsx)("a",{href:"https://github.com/yozorajs/yozora/actions/workflows/ci.yml",children:(0,s.jsx)("img",{alt:"CI Workflow",src:"https://github.com/yozorajs/yozora/actions/workflows/ci.yml/badge.svg"})}),(0,s.jsx)("a",{href:"https://github.com/facebook/jest",children:(0,s.jsx)("img",{alt:"Tested with Jest",src:"https://img.shields.io/badge/tested_with-jest-9c465e.svg"})}),(0,s.jsx)("a",{href:"https://github.com/prettier/prettier",children:(0,s.jsx)("img",{alt:"Code Style: prettier",src:"https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square"})})]})]}),"\n",(0,s.jsxs)(n.h2,{id:"-why-named-yozora-",children:[(0,s.jsx)("g-emoji",{children:"\ud83c\udf89"}),' Why named "yozora" ?']}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Yozora"})})," is the Roman sound of Japanese \u300c\u3088\u305e\u3089\u300d, taken from the lyrics in\n\u300e",(0,s.jsx)(n.em,{children:"\u82b1\u9ce5\u98a8\u6708"}),"\u300f by the band ",(0,s.jsx)(n.em,{children:"\u4e16\u754c\u306e\u7d42\u308f\u308a"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["This project is a monorepo that aims to implement a highly extensible, pluggable\nMarkdown parser. Based on the idea of middlewares, the core algorithm\n",(0,s.jsx)(n.a,{href:"/docs/next/package/core-parser",children:"@yozora/core-parser"})," will schedule tokenizers (such as ",(0,s.jsx)(n.a,{href:"/docs/next/package/tokenizer-autolink",children:"@yozora/tokenizer-autolink"}),")\nto complete the parsing tasks. More accurately, ",(0,s.jsx)(n.em,{children:"yozora"})," is an algorithm to\nparse Markdown or its extended syntax contents into an abstract syntax tree (AST)."]}),"\n",(0,s.jsxs)(n.h2,{id:"-features",children:[(0,s.jsx)("g-emoji",{children:"\u2728"})," Features"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udd16 Fully support all the rules mentioned in the ",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM specification"}),",\nand has passed almost all test cases created based on the examples in the\nspecification (except the one ",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/#example-653",children:"https://github.github.com/gfm/#example-653"}),",\nas there is no plan to support native HTML tags in the ",(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora-react",children:"React Renderer"}),",\nfor the Yozora AST, so I'm a little lazy to do the tag filtering. If you need\nit, you can do the filtering by yourself)."]}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/docs/next/package/parser-gfm",children:"@yozora/parser-gfm"})," or ",(0,s.jsx)(n.a,{href:"/docs/next/package/parser-gfm-ex",children:"@yozora/parser-gfm-ex"})," for further information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\ude80 Robust."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"All codes are written in Typescript, with the guarantee of strictly static\ntype checking."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Eslint and Prettier to constrain coding styles to avoid error-prone problems\nsuch as hack syntax and shadow variables."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Tested with Jest, and passed a large number of test cases."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udc9a ",(0,s.jsx)(n.strong,{children:"Tidy"}),": No third-party dependencies."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a1\ufe0f ",(0,s.jsx)(n.strong,{children:"Efficient"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The parsing complexity is the length of source contents multiplied by the\nnumber of tokenizers, which has reached the lower bound of theoretical\ncomplexity."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The parser API supports streaming read-in (using generators /iterators for\ninput), and supports parsing while read-in (Only block-level data is\nsupported yet)."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Carefully handle the array creation / concat operations. To reused the array\nas much as possible during the entire matching phase, only use the array\nindex to delineate the matching range. And a lot of strategies applied to\nreduce duplicated matching / parsing operations."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83e\ude79 ",(0,s.jsx)(n.strong,{children:"Compatibility"}),", the parsed syntax tree is compatible with the one defined in\n[Mdast][mdast-homepage]."]}),"\n",(0,s.jsxs)(n.p,{children:["Even if some data types are not compatible in the future, it is easy to\ntraverse the AST for adaptation and modification through the API provided in\n",(0,s.jsx)(n.a,{href:"/docs/next/package/ast-util",children:"@yozora/ast-util"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83c\udfa8 ",(0,s.jsx)(n.strong,{children:"Extendibility"}),", Yozora comes with a plug-in system, which allowed Yozora to\nschedule the tokenizers through an internal algorithms to complete the parsing\ntasks."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"It's easy to create and integrate custom tokenizers."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"All tokenizers can be mounted or unmounted freely."}),"\n",(0,s.jsxs)(n.p,{children:["Some tokenizers of the data types that not mentioned in ",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM"})," have\nbeen implemented in this repository, such as ",(0,s.jsx)(n.a,{href:"/docs/next/package/tokenizer-admonition",children:"@yozora/tokenizer-admonition"}),",\n",(0,s.jsx)(n.a,{href:"/docs/next/package/tokenizer-footnote",children:"@yozora/tokenizer-footnote"}),", etc. All of them are built into\n",(0,s.jsx)(n.a,{href:"/docs/next/package/parser",children:"@yozora/parser"})," in default, you can uninstall them at will, if you don't\nlike it."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"-usage",children:[(0,s.jsx)("g-emoji",{children:"\ud83d\udcdd"})," Usage"]}),"\n",(0,s.jsxs)(a.c,{defaultValue:"YozoraParser",values:[{label:"YozoraParser",value:"YozoraParser"},{label:"GfmParser",value:"GfmParser"},{label:"GfmExParser",value:"GfmExParser"},{label:"MarkupWeaver",value:"MarkupWeaver"}],children:[(0,s.jsxs)(i.c,{value:"YozoraParser",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/next/package/parser",children:"@yozora/parser"})})}),": (",(0,s.jsx)(n.strong,{children:"Recommended"}),") A Markdown parser with rich built-in\ntokenizers."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import YozoraParser from '@yozora/parser'\n\nconst parser = new YozoraParser()\nparser.parse('source content')\n"})})]}),(0,s.jsxs)(i.c,{value:"GfmParser",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/next/package/parser-gfm",children:"@yozora/parser-gfm"})})}),": A Markdown parser that supports ",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM specification"}),".\nBuilt-in tokenizers that supports all grammars mentioned in\n",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM specification"})," (",(0,s.jsx)(n.strong,{children:"excluding"})," the extended grammar mentioned in the\nspecification, such as ",(0,s.jsx)(n.a,{href:"/docs/next/package/tokenizer-table",children:"table"}),")."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import GfmParser from '@yozora/parser-gfm'\n\nconst parser = new GfmParser()\nparser.parse('github flavor markdown contents')\n"})})]}),(0,s.jsxs)(i.c,{value:"GfmExParser",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/next/package/parser-gfm-ex",children:"@yozora/parser-gfm-ex"})})}),": A Markdown parser that supports ",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM specification"}),".\nBuilt-in tokenizers that supports all grammars mentioned in\n",(0,s.jsx)(n.a,{href:"https://github.github.com/gfm/",children:"GFM specification"})," (",(0,s.jsx)(n.strong,{children:"including"})," the extended grammar mentioned in the\nspecification, such as ",(0,s.jsx)(n.a,{href:"/docs/next/package/tokenizer-table",children:"table"}),")."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import GfmExParser from '@yozora/parser-gfm-ex'\n\nconst parser = new GfmExParser()\nparser.parse('github flavor markdown contents (with gfm extensions enabled)')\n"})})]}),(0,s.jsxs)(i.c,{value:"MarkupWeaver",children:[(0,s.jsx)(n.p,{children:"Content AST into markup content"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'import { DefaultMarkupWeaver } from \'@yozora/markup-weaver\'\n\nconst weaver = new DefaultMarkupWeaver()\nweaver.weave({\n  "type": "root",\n  "children": [\n    {\n      "type": "paragraph",\n      "children": [\n        {\n          "type": "text",\n          "value": "emphasis: "\n        },\n        {\n          "type": "strong",\n          "children": [\n            {\n              "type": "text",\n              "value": "foo \\""\n            },\n            {\n              "type": "emphasis",\n              "children": [\n                {\n                  "type": "text",\n                  "value": "bar"\n                }\n              ]\n            },\n            {\n              "type": "text",\n              "value": "\\" foo"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n})\n// => emphasis: **foo "*bar*" foo**\n'})})]})]}),"\n",(0,s.jsxs)(n.h2,{id:"-faq",children:[(0,s.jsx)("g-emoji",{children:"\ud83d\udca1"})," FAQ"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"How to use yozora with gatsby?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Try the ",(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/gatsby-scaffolds/blob/main/packages/gatsby-transformer#readme",children:"@yozora/gatsby-transformer"})," and ",(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/gatsby-scaffolds/blob/main/packages/gatsby-images#readme",children:"@yozora/gatsby-images"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"How to implemented custom tokenizer?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.a,{href:"/docs/next/package/template-tokenizer",children:"@yozora/template-tokenizer"})," to create a custom tokenizer with\npredefined boilerplates."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Check ",(0,s.jsx)(n.a,{href:"/docs/next/package/core-tokenizer",children:"@yozora/core-tokenizer"})," for implementation details of tokenizer."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Check ",(0,s.jsx)(n.a,{href:"/docs/next/package/jest-for-tokenizer",children:"@yozora/jest-for-tokenizer"})," for information about testing the\ncustom tokenizer."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Check ",(0,s.jsx)(n.a,{href:"/docs/next/package/core-parser",children:"@yozora/core-parser"})," and ",(0,s.jsx)(n.a,{href:"/docs/next/package/parser",children:"@yozora/parser"})," for information on how to\nintegrate a custom tokenzier."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["It's also recommended to see the existing ",(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora/tree/main/tokenizers",children:"tokenizers"})," for referencing."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"-contact",children:[(0,s.jsx)("g-emoji",{children:"\ud83d\udcac"})," Contact"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora/issues",children:"Github issues"})}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"-license",children:[(0,s.jsx)("g-emoji",{children:"\ud83d\udcc4"})," License"]}),"\n",(0,s.jsxs)(n.p,{children:["Yozora is ",(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora/blob/main/LICENSE",children:"MIT licensed"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://me.guanghechen.com/essay/tada/",children:"\u2728\u5149\u548c\u5c18\u4e00\u76f4\u60f3\u8981\u4e00\u4e2a\u6e05\u723d\u535a\u5ba2"}),": Why this project was written."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora-react/tree/main/packages/markdown",children:"@yozora/react-markdown"}),": A library for rendering Yozora AST into React components."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/yozorajs/yozora-html/tree/main/packages/markdown",children:"@yozora/html-markdown"}),": A library for rendering Yozora AST into html strings."]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,t.M)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);